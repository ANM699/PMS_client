{"version":3,"sources":["components/task-progress/task-progress.module.less","components/header/header.module.less","components/board/column.module.less","components/sider/sider.module.less","components/board/task.module.less","containers/project/sprint/sprint.module.less","redux/user/reduces.js","redux/project/action-types.js","redux/project/reduces.js","redux/sprints/reduces.js","redux/reducers.js","redux/user/action-types.js","redux/sprints/action-types.js","redux/store.js","mock/mock.js","api/ajax.js","api/index.js","redux/user/actions.js","containers/login/login.jsx","containers/register/register.jsx","components/sider/sider.jsx","components/header/header.jsx","components/project/list.jsx","components/project/form.jsx","redux/project/actions.js","containers/my-projects/my-projects.jsx","containers/project/profile/profile.jsx","components/task-progress/task-progress.jsx","containers/project/meeting/meeting.jsx","components/board/task.jsx","components/board/column.jsx","containers/project/board/board.jsx","components/member/form.jsx","containers/project/member/member.jsx","containers/project/story/story.jsx","redux/sprints/actions.js","containers/project/sprint/sprint.jsx","containers/exception/not-found.jsx","containers/main/main.jsx","index.js","containers/login/login.module.less"],"names":["module","exports","initUser","username","email","msg","initProject","projectName","startDate","endDate","description","initSprints","combineReducers","user","state","action","type","data","project","sprints","createStore","reducers","composeWithDevTools","applyMiddleware","thunk","api","Mock","mock","options","_id","Cookies","set","code","JSON","parse","body","get","content","storyId","projectId","ajax","url","dataStr","Object","keys","forEach","key","substring","length","axios","post","reqLogin","password","reqRegister","reqCreateProject","authSuccess","errorMsg","resetUser","Login","onFinish","props","login","onFinishFailed","errorInfo","console","log","toRegister","history","replace","userId","this","to","className","styles","container","main","wrapperCol","span","name","initialValues","remember","Item","message","showIcon","rules","required","prefix","UserOutlined","placeholder","Password","LockOutlined","htmlType","onClick","Component","connect","dispatch","a","response","result","Register","register","toLogin","password2","Sider","menuList","path","title","icon","ProfileOutlined","TeamOutlined","SolutionOutlined","CarryOutOutlined","ProjectOutlined","SnippetsOutlined","AreaChartOutlined","visiable","currentPath","location","pathname","selectedMenu","findIndex","menu","toString","trigger","collapsible","collapsed","sider","style","display","logo","theme","mode","selectedKeys","map","index","withRouter","Header","header","React","createElement","MenuUnfoldOutlined","MenuFoldOutlined","toggle","backgroundColor","marginRight","LogoutOutlined","logout","ProjectList","size","dataSource","renderItem","item","actions","EditOutlined","Meta","placement","onConfirm","okText","cancelText","RangePicker","DatePicker","ProjectForm","ref","formRef","labelCol","label","width","min","TextArea","rows","switchProject","resetProject","MyProjects","visible","projectList","showModal","setState","handleConfirm","push","handleOk","e","form","validateFields","then","value","rangeDate","format","res","resetFields","catch","info","handleCancel","extra","PlusCircleFilled","fontSize","onOk","onCancel","el","mapDispatchToProps","Profile","TaskProgress","genChildren","num","children","element","block","todo","doing","done","Meeting","Task","draggableId","task","provided","snapshot","innerRef","draggableProps","dragHandleProps","hoverable","textAlign","Group","users","avatar","Column","id","droppableId","taskList","droppableProps","tasks","Board","isBoardView","originalTasks","toggleView","onDragEnd","destination","source","start","finish","draggedTask","find","draggedTaskInOriginalTasks","status","startTasks","finishTasks","splice","boardView","listView","pagination","showHeader","rowKey","dataIndex","render","UnorderedListOutlined","Option","Select","MemberForm","showSearch","optionFilterProp","filterOption","input","option","toLowerCase","indexOf","allowClear","roles","role","roleOptions","color","Member","members","columns","text","record","handleDel","DeleteOutlined","filter","member","Table","priority","Story","stories","activity","date","businessValue","p","progress","createSprints","sprint","Sprint","createSprint","getSprints","newStartDate","lastEndDate","moment","add","rowClassName","isBetween","curSprint","disabledDate","currentDate","defaultPickerValue","background","subTitle","Content","Layout","Main","navList","component","exact","NotFound","that","Modal","confirm","ExclamationCircleOutlined","remove","getUser","getProject","position","top","left","right","bottom","minHeight","padding","nav","ReactDOM","locale","store","document","getElementById"],"mappings":"+EACAA,EAAOC,QAAU,CAAC,UAAY,0BAA0B,MAAQ,0BAA0B,KAAO,wBAAwB,MAAQ,0BAA0B,KAAO,4B,oBCAlKD,EAAOC,QAAU,CAAC,OAAS,0BAA0B,OAAS,0BAA0B,QAAU,0BAA0B,MAAQ,4B,oBCApID,EAAOC,QAAU,CAAC,UAAY,0BAA0B,MAAQ,0BAA0B,SAAW,0B,oBCArGD,EAAOC,QAAU,CAAC,MAAQ,0BAA0B,KAAO,4B,oBCA3DD,EAAOC,QAAU,CAAC,UAAY,4B,oBCA9BD,EAAOC,QAAU,CAAC,UAAY,4B,mNCCxBC,EAAW,CACfC,SAAU,GACVC,MAAO,GACPC,IAAK,ICAA,ICHDC,EAAc,CAClBC,YAAa,GACbC,UAAW,KACXC,QAAS,KACTC,YAAa,GACbL,IAAK,I,YCLDM,EAAc,GCQLC,gCAAgB,CAC7BC,KJHK,WAAyC,IAA3BC,EAA0B,uDAAlBZ,EAAUa,EAAQ,uCAC7C,OAAQA,EAAOC,MACb,IKTwB,eLWxB,IKTwB,eLUtB,OAAOD,EAAOE,KAChB,IKNsB,aLOpB,OAAO,2BACFf,GADL,IAEEG,IAAKU,EAAOE,OAEhB,IKbqB,YLcnB,OAAO,2BACFH,GADL,IAEET,IAAKU,EAAOE,OAEhB,QACE,OAAOH,IIbXI,QFFK,WAA+C,IAA9BJ,EAA6B,uDAArBR,EAAaS,EAAQ,uCACnD,OAAQA,EAAOC,MACb,IDP0B,iBCQxB,OAAOD,EAAOE,KAChB,IDPyB,gBCQvB,OAAO,2BACFX,GADL,IAEED,IAAKU,EAAOE,OAEhB,IDVqB,YCWnB,OAAO,2BACFH,GADL,IAEET,IAAKU,EAAOE,OAEhB,QACE,OAAOH,IEZXK,QDTK,WAA+C,IAA9BL,EAA6B,uDAArBH,EAAaI,EAAQ,uCACnD,OAAQA,EAAOC,MACb,IGL2B,kBHMzB,OAAOD,EAAOE,KAChB,IGLyB,gBHMvB,MAAM,GAAN,mBAAWH,GAAX,CAAkBC,EAAOE,OAC3B,QACE,OAAOH,MIFEM,wBACbC,EACAC,8BAAoBC,0BAAgBC,O,4LCRhCC,EAAM,cAEZC,IAAKC,KAAL,UAAaF,EAAb,gBAAgC,QAAQ,SAAUG,GAChD,IAAMC,EAAMH,IAAKC,KAAK,OAEtB,OADAG,IAAQC,IAAI,SAAUF,GACf,CACLG,KAAM,EACNf,KAAM,CACJd,SAAU8B,KAAKC,MAAMN,EAAQO,MAAMhC,SACnC0B,WAKNH,IAAKC,KAAL,UAAaF,EAAb,mBAAmC,QAAQ,SAAUG,GACnD,IAAMO,EAAOF,KAAKC,MAAMN,EAAQO,MAChC,GAAsB,gBAAlBA,EAAKhC,SACP,MAAO,CACL6B,KAAM,EACN3B,IAAK,oDAGT,IAAMwB,EAAMH,IAAKC,KAAK,OAEtB,OADAG,IAAQC,IAAI,SAAUF,GACf,CACLG,KAAM,EACNf,KAAM,CACJd,SAAUgC,EAAKhC,SACf0B,WAKNH,IAAKC,KAAL,UAAaF,EAAb,eAA+B,OAAO,WACpC,MAAO,CACLO,KAAM,EACNf,KAAM,CACJd,SAAUuB,IAAKC,KAAK,SACpBE,IAAKC,IAAQM,IAAI,eAKvBV,IAAKC,KAAL,UAAaF,EAAb,kBAAkC,OAAO,WAAa,IAC5CR,EAASS,IAAKC,KAAK,CACzB,YAAa,CACX,CACEE,IAAK,MACLtB,YAAa,UACbG,YAAa,mBACbF,UAAW,aACXC,QAAS,iBAPPQ,KAWR,MAAO,CACLe,KAAM,EACNf,KAAK,YAMAA,OAKTS,IAAKC,KAAL,UAAaF,EAAb,oBAAoC,QAAQ,SAAUG,GACpD,MAAO,CACLI,KAAM,EACNf,KAAK,2BACAgB,KAAKC,MAAMN,EAAQO,OADpB,IAEFN,IAAKH,IAAKC,KAAK,aAKrBD,IAAKC,KAAL,UAAaF,EAAb,qBAAqC,OAAO,WAC1C,MAAO,CACLO,KAAM,EACNf,KAAM,CACJV,YAAamB,IAAKC,KAAK,WACvBjB,YAAagB,IAAKC,KAAK,oBACvBE,IAAKC,IAAQM,IAAI,aACjB5B,UAAW,aACXC,QAAS,kBAKfiB,IAAKC,KAAL,UAAaF,EAAb,eAA+B,OAAO,WACpC,OAAO,aACLO,KAAM,GACHN,IAAKC,KAAK,CACX,aAAc,CACZ,CACEE,IAAK,MACLQ,QAAS,aACT,WAAY,CAAC,OAAQ,QAAS,QAC9BC,QAAS,MACTC,UAAWT,IAAQM,IAAI,aACvB,YAAa,CACX,CACEP,IAAK,MACL,WAAY,CAAC,UAAW,UAAW,WACnC1B,SAAU,kBASxBuB,IAAKC,KAAL,UAAaF,EAAb,qBAAqC,OAAO,WAC1C,OAAO,aACLO,KAAM,GACHN,IAAKC,KAAK,CACX,YAAa,CACX,CACEE,IAAK,MACL,WAAY,CAAC,UAAW,UAAW,WACnC1B,SAAU,QACVC,MAAO,SACP,YAAa,CACX,CACE,UAAW,CAAC,UAAW,UAAW,UAAW,WAC7C,SAAU,CAAC,2BAAQ,2BAAQ,2BAAQ,4BASjDsB,IAAKC,KAAL,UAAaF,EAAb,eAA+B,OAAO,WACpC,OAAO,aACLO,KAAM,GACHN,IAAKC,KAAK,CACX,WAAY,CACV,CACEE,IAAK,MACL,WAAY,CAAC,UAAW,UAAW,WACnC1B,SAAU,QACVC,MAAO,iBAOjBsB,IAAKC,KAAL,UAAaF,EAAb,mBAAmC,QAAQ,SAAUG,GACnD,MAAO,CACLI,KAAM,EACNf,KAAK,aACHY,IAAKH,IAAKC,KAAK,QACZM,KAAKC,MAAMN,EAAQO,WAK5BT,IAAKC,KAAL,UAAaF,EAAb,iBAAiC,OAAO,WACtC,MAAO,CACLO,KAAM,EACNf,KAAM,CACJ,CACEY,IAAKH,IAAKC,KAAK,OACfnB,UAAW,aACXC,QAAS,cAEX,CACEoB,IAAKH,IAAKC,KAAK,OACfnB,UAAW,aACXC,QAAS,cAEX,CACEoB,IAAKH,IAAKC,KAAK,OACfnB,UAAW,aACXC,QAAS,mBClLF,SAAS+B,IAAyC,IAApCC,EAAmC,uDAA7B,GAAIxB,EAAyB,uDAAlB,GAAID,EAAc,uDAAP,MACvD,GAAa,QAATA,EAAgB,CAClB,IAAI0B,EAAU,GAOd,OANAC,OAAOC,KAAK3B,GAAM4B,SAAQ,SAACC,GACzBJ,GAAWI,EAAM,IAAM7B,EAAK6B,GAAO,OAEjCJ,IACFA,EAAU,IAAMA,EAAQK,UAAU,EAAGL,EAAQM,OAAS,IAEjDC,IAAMb,IAXL,cAWeK,EAAMC,GAE7B,OAAOO,IAAMC,KAbL,cAagBT,EAAKxB,GCd1B,IAAMkC,EAAW,SAAC,GACvB,OAAOX,EAAK,eAAgB,CAAErC,SADoB,EAAzBA,SACeiD,SADU,EAAfA,UACiB,SAGzCC,EAAc,SAAC,GAC1B,OAAOb,EAAK,kBAAmB,CAAErC,SADoB,EAAzBA,SACeiD,SADU,EAAfA,UACiB,SAa5CE,EAAmB,SAAC,GAM/B,OAAOd,EACL,mBACA,CAAEjC,YAHA,EAJJA,YAOiBC,UAHb,EAHJA,UAM4BC,QAHxB,EAFJA,QAKqCC,YAHjC,EADJA,aAKE,SCzBE6C,EAAc,SAAC1C,GAAD,MAAW,CAAEG,KNHL,eMG+BC,KAAMJ,IAI3D2C,EAAW,SAACnD,GAAD,MAAU,CAAEW,KNFJ,YME2BC,KAAMZ,IAE7CoD,EAAY,SAACpD,GACxB,MAAO,CAAEW,KNHe,aMGSC,KAAMZ,ICAnCqD,E,4MACJC,SAAW,SAAC9C,GACV,EAAK+C,MAAMC,MAAMhD,I,EAGnBiD,eAAiB,SAACC,GAChBC,QAAQC,IAAI,UAAWF,I,EAGzBG,WAAa,WACX,EAAKN,MAAMO,QAAQC,QAAQ,c,uDAI3B,IAAMC,EAASvC,IAAQM,IAAI,UACnB/B,EAAQiE,KAAKV,MAAM/C,KAAnBR,IACR,OAAIgE,EACK,kBAAC,IAAD,CAAUE,GAAG,MAGpB,yBAAKC,UAAWC,IAAOC,WACrB,yBAAKF,UAAWC,IAAOpC,SACrB,yBAAKmC,UAAWC,IAAOE,MACrB,kBAAC,IAAD,CACEC,WAAY,CAAEC,KAAM,IACpBC,KAAK,YACLC,cAAe,CACbC,UAAU,GAEZrB,SAAUW,KAAKX,SACfG,eAAgBQ,KAAKR,gBAErB,kBAAC,IAAKmB,KAAN,KACG5E,EAAM,kBAAC,IAAD,CAAOW,KAAK,QAAQkE,QAAS7E,EAAK8E,UAAQ,IAAM,MAEzD,kBAAC,IAAKF,KAAN,CACEH,KAAK,WACLM,MAAO,CACL,CACEC,UAAU,EACVH,QAAS,gDAIb,kBAAC,IAAD,CACEI,OAAQ,kBAACC,EAAA,EAAD,CAAcf,UAAU,wBAChCgB,YAAY,wBAGhB,kBAAC,IAAKP,KAAN,CACEH,KAAK,WACLM,MAAO,CACL,CACEC,UAAU,EACVH,QAAS,0CAIb,kBAAC,IAAMO,SAAP,CACEH,OAAQ,kBAACI,EAAA,EAAD,CAAclB,UAAU,wBAChCgB,YAAY,kBAGhB,kBAAC,IAAKP,KAAN,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQjE,KAAK,UAAU2E,SAAS,UAAhC,gBAGA,kBAAC,IAAD,CAAQA,SAAS,SAASC,QAAStB,KAAKJ,YAAxC,sC,GApEE2B,aAiFLC,eAAQ,SAAChF,GAAD,MAAY,CAAED,KAAMC,EAAMD,QAAS,CAAEgD,MD7EvC,SAAChD,GAAU,IACtBV,EAAuBU,EAAvBV,SAAUiD,EAAavC,EAAbuC,SAClB,OAAKjD,GAAaiD,EAGlB,uCAAO,WAAO2C,GAAP,iBAAAC,EAAA,sEACkBvE,EAAaZ,GAD/B,OACCoF,EADD,OAGe,KADdC,EAASD,EAAShF,MACbe,KACT+D,EAASxC,EAAY2C,EAAOjF,OAE5B8E,EAASvC,EAAS0C,EAAO7F,MANtB,2CAAP,sDAFSmD,EAAS,4DC0ELsC,CAAsDpC,GCjF/DyC,G,4MACJxC,SAAW,SAAC9C,GACV,EAAK+C,MAAMwC,SAASvF,GACpBmD,QAAQC,IAAI,WAAYpD,I,EAG1BiD,eAAiB,SAACC,GAChBC,QAAQC,IAAI,UAAWF,I,EAGzBsC,QAAU,WACR,EAAKzC,MAAMO,QAAQC,QAAQ,W,uDAI3B,IAAMC,EAASvC,IAAQM,IAAI,UACnB/B,EAAQiE,KAAKV,MAAM/C,KAAnBR,IACR,OAAIgE,EACK,kBAAC,IAAD,CAAUE,GAAG,MAGpB,yBAAKC,UAAWC,IAAOC,WACrB,yBAAKF,UAAWC,IAAOpC,SACrB,yBAAKmC,UAAWC,IAAOE,MACrB,kBAAC,IAAD,CACEC,WAAY,CAAEC,KAAM,IACpBC,KAAK,YACLC,cAAe,CACbC,UAAU,GAEZrB,SAAUW,KAAKX,SACfG,eAAgBQ,KAAKR,gBAErB,kBAAC,IAAKmB,KAAN,KACG5E,EAAM,kBAAC,IAAD,CAAOW,KAAK,QAAQkE,QAAS7E,EAAK8E,UAAQ,IAAM,MAEzD,kBAAC,IAAKF,KAAN,CACEH,KAAK,WACLM,MAAO,CACL,CACEC,UAAU,EACVH,QAAS,gDAIb,kBAAC,IAAD,CACEI,OAAQ,kBAACC,EAAA,EAAD,CAAcf,UAAU,wBAChCgB,YAAY,wBAGhB,kBAAC,IAAKP,KAAN,CACEH,KAAK,WACLM,MAAO,CACL,CACEC,UAAU,EACVH,QAAS,0CAIb,kBAAC,IAAMO,SAAP,CACEH,OAAQ,kBAACI,EAAA,EAAD,CAAclB,UAAU,wBAChCgB,YAAY,kBAGhB,kBAAC,IAAKP,KAAN,CACEH,KAAK,YACLM,MAAO,CACL,CACEC,UAAU,EACVH,QAAS,sDAIb,kBAAC,IAAMO,SAAP,CACEH,OAAQ,kBAACI,EAAA,EAAD,CAAclB,UAAU,wBAChCgB,YAAY,kBAGhB,kBAAC,IAAKP,KAAN,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQjE,KAAK,UAAU2E,SAAS,UAAhC,gBAGA,kBAAC,IAAD,CAAQA,SAAS,SAASC,QAAStB,KAAK+B,SAAxC,sC,GAnFKR,aAgGRC,gBAAQ,SAAChF,GAAD,MAAY,CAAED,KAAMC,EAAMD,QAAS,CAAEuF,SF3EpC,SAACvF,GAAU,IACzBV,EAAkCU,EAAlCV,SAAUiD,EAAwBvC,EAAxBuC,SAAUkD,EAAczF,EAAdyF,UAC5B,OAAKnG,GAAaiD,GAAakD,EAG3BlD,IAAakD,EACR9C,EAAS,oDAElB,uCAAO,WAAOuC,GAAP,iBAAAC,EAAA,sEACkBvE,EAAgBZ,GADlC,OACCoF,EADD,OAGe,KADdC,EAASD,EAAShF,MACbe,KACT+D,EAASxC,EAAY2C,EAAOjF,OAE5B8E,EAASvC,EAAS0C,EAAO7F,MANtB,2CAAP,sDALSmD,EAAS,4DEwELsC,CACbK,I,6IC5FII,G,4MAKJC,SAAW,CAET,CACEC,KAAM,mBACNC,MAAO,2BACPC,KAAM,kBAACC,GAAA,EAAD,OAER,CACEH,KAAM,kBACNC,MAAO,2BACPC,KAAM,kBAACE,GAAA,EAAD,OAER,CACEJ,KAAM,iBACNC,MAAO,2BACPC,KAAM,kBAACG,GAAA,EAAD,OAER,CACEL,KAAM,kBACNC,MAAO,2BACPC,KAAM,kBAACI,GAAA,EAAD,OAER,CACEN,KAAM,iBACNC,MAAO,2BACPC,KAAM,kBAACK,GAAA,EAAD,OAER,CACEP,KAAM,mBACNC,MAAO,2BACPC,KAAM,kBAACM,GAAA,EAAD,OAER,CACER,KAAM,GACNC,MAAO,qBACPC,KAAM,kBAACO,GAAA,EAAD,Q,uDAIA,IAAD,OACDC,EAAW7C,KAAKV,MAAMuD,SACtBC,EAAc9C,KAAKV,MAAMO,QAAQkD,SAASC,SAC1CC,EAAejD,KAAKkC,SACvBgB,WAAU,SAACC,GAAD,OAAUA,EAAKhB,OAASW,KAClCM,WAEH,OACE,kBAAC,KAAOnB,MAAR,CACEoB,QAAS,KACTC,aAAW,EACXC,UAAWvD,KAAKV,MAAMiE,UACtBrD,UAAWC,KAAOqD,MAClBC,MAAO,CACLC,QAASb,EAAW,GAAK,SAG3B,yBAAK3C,UAAWC,KAAOwD,MAAvB,OACA,kBAAC,KAAD,CAAMC,MAAM,OAAOC,KAAK,SAASC,aAAc,CAACb,IAC7CjD,KAAKkC,SAAS6B,KAAI,SAACZ,EAAMa,GAAP,OACjB,kBAAC,KAAKrD,KAAN,CACEnC,IAAKwF,EACL3B,KAAMc,EAAKd,KACXf,QAAS,WACH6B,EAAKhB,MAAM,EAAK7C,MAAMO,QAAQC,QAAQqD,EAAKhB,QAGhDgB,EAAKf,gB,GAvEAb,aAkFL0C,eAAWhC,I,6DC7DXiC,GAzBA,SAAC5E,GACd,OACE,kBAAC,KAAO4E,OAAR,CAAehE,UAAWC,KAAOgE,QAC9BC,IAAMC,cACL/E,EAAMiE,UAAYe,KAAqBC,KACvC,CACErE,UAAWC,KAAOkD,QAClB/B,QAAShC,EAAMkF,SAGnB,yBAAKtE,UAAWC,KAAOiC,OACrB,kBAAC,IAAD,CAAMnC,GAAG,KAAKX,EAAMrD,cAEtB,6BACE,kBAAC,KAAD,CACEwH,MAAO,CAAEgB,gBAAiB,UAAWC,YAAa,GAClDrC,KAAM,kBAACpB,EAAA,EAAD,QAEP3B,EAAMzD,UAET,kBAAC8I,GAAA,EAAD,CAAgBzE,UAAWC,KAAOyE,OAAQtD,QAAShC,EAAMsF,W,kDC5BhD,SAASC,GAAYvF,GAClC,IAAM3C,EAAO2C,EAAM3C,KACnB,OACE,kBAAC,KAAD,CACEmI,KAAK,QACLC,WAAYpI,EACZqI,WAAY,SAACC,GAAD,OACV,kBAAC,KAAKtE,KAAN,CACEuE,QAAS,CACP,uBAAG1G,IAAI,QACL,kBAAC2G,GAAA,EAAD,SAIJ,kBAAC,KAAKxE,KAAKyE,KAAX,CACEhD,MACE,kBAAC,KAAD,CACEiD,UAAU,QACVjD,MAAM,+DACNkD,UAAW,kBAAMhG,EAAMgG,UAAUL,IACjCM,OAAO,eACPC,WAAW,gBAEX,2BAAIP,EAAKhJ,cAGbG,YAAa6I,EAAK7I,kB,cC3BtBqJ,GAAgBC,KAAhBD,YAEO,SAASE,GAAYrG,GAClC,OACE,kBAAC,IAAD,CACEsG,IAAKtG,EAAMuG,QACXC,SAAU,CACRvF,KAAM,GAERD,WAAY,CACVC,KAAM,KAGR,kBAAC,IAAKI,KAAN,CACEH,KAAK,cACLuF,MAAM,2BACNjF,MAAO,CACL,CACEC,UAAU,EACVH,QAAS,sDAIb,kBAAC,IAAD,CAAOM,YAAY,wBAErB,kBAAC,IAAKP,KAAN,CACEH,KAAK,YACLuF,MAAM,2BACNjF,MAAO,CACL,CACEC,UAAU,EACVH,QAAS,kEAIb,kBAAC6E,GAAD,CACEhC,MAAO,CACLuC,MAAO,WAIb,kBAAC,IAAKrF,KAAN,CACEH,KAAK,cACLuF,MAAM,2BACNjF,MAAO,CACL,CACEC,UAAU,EACVH,QAAS,6FACTqF,IAAK,KAIT,kBAAC,IAAMC,SAAP,CAAgBC,KAAM,EAAGjF,YAAY,6DCzC7C,IAEakF,GAAgB,SAACxJ,GAAD,MAAc,CACzCF,KjBZ4B,iBiBa5BC,KAAMC,IAGKyJ,GAAe,SAACtK,GAAD,MAAU,CAAEW,KjBdX,gBiBcsCC,KAAMZ,ICNnEuK,G,4MACJ9J,MAAQ,CACN+J,SAAS,EACTC,YAAa,I,EAGfC,UAAY,WACV,EAAKC,SAAS,CACZH,SAAS,K,EAIbI,cAAgB,SAAC1B,GACf,EAAK3F,MAAM8G,cAAcnB,GAEzBzH,IAAQC,IAAI,YAAawH,EAAK1H,KAC9B,EAAK+B,MAAMO,QAAQ+G,KAAK,qB,EAG1BC,SAAW,SAACC,GACV,EAAKC,KACFC,iBACAC,MAAK,SAACC,GACL,IAAMC,EAAYD,EAAK,UACvBA,EAAMhL,UAAYiL,EAAU,GAAGC,OAAO,cACtCF,EAAM/K,QAAUgL,EAAU,GAAGC,OAAO,cAEpCpI,EAAiBkI,GAAOD,MAAK,SAACI,GAC5B,IAAMzF,EAASyF,EAAI1K,KACC,IAAhBiF,EAAOlE,OACT,EAAKgJ,SAAS,CACZF,YAAY,CAAE5E,EAAOjF,MAAV,mBAAmB,EAAKH,MAAMgK,cACzCD,SAAS,IAEX,EAAKQ,KAAKO,qBAIfC,OAAM,SAACC,GACN9H,QAAQC,IAAI,iCAAS6H,O,EAI3BC,aAAe,SAACX,GACd,EAAKJ,SAAS,CACZH,SAAS,K,kEAIQ,IAAD,OTxBbrI,EAAK,kBSyBO+I,MAAK,SAACI,GACrB,IAAMzF,EAASyF,EAAI1K,KAEC,IAAhBiF,EAAOlE,MACT,EAAKgJ,SAAS,CACZF,YAAa5E,EAAOjF,Y,+BAOlB,IAAD,OAEDA,EAAOqD,KAAKxD,MAAMgK,YACxB,OACE,6BACE,kBAAC,KAAD,CACEpE,MAAM,2BACNsF,MACE,uBAAGpG,QAAStB,KAAKyG,WACf,kBAACkB,GAAA,EAAD,CAAkBlE,MAAO,CAAEmE,SAAU,YAezC,kBAAC/C,GAAD,CAAalI,KAAMA,EAAM2I,UAAWtF,KAAK2G,iBAG3C,kBAAC,KAAD,CACEvE,MAAM,2BACN4D,MAAO,IACPO,QAASvG,KAAKxD,MAAM+J,QACpBsB,KAAM7H,KAAK6G,SACXiB,SAAU9H,KAAKyH,aACflC,OAAO,eACPC,WAAW,gBAEX,kBAACG,GAAD,CAAaE,QAAS,SAACkC,GAAD,OAAS,EAAKhB,KAAOgB,W,GAlG5BxG,aA8GnByG,GAAqB,CAAE5B,kBAEd5E,gBAPS,SAAChF,GAAD,MAAY,CAElCI,QAASJ,EAAMI,WAKuBoL,GAAzBxG,CAA6C8E,IC7HvC2B,G,uKAEjB,OACE,oCACE,qPAGA,kJ,GAP6B1G,a,qBC6BtB2G,OA1Bf,SAAsB5I,GACpB,SAAS6I,EAAYC,EAAKlI,GAExB,IADA,IAAImI,EAAW,GACNrE,EAAQ,EAAGA,EAAQoE,EAAKpE,IAAS,CACxC,IAAMsE,EACJ,yBAAK9J,IAAKwF,EAAO9D,UAAS,UAAKC,KAAOoI,MAAZ,YAAqBrI,KAEjDmI,EAASzB,KAAK0B,GAEhB,OAAOD,EAET,OACE,yBAAKnI,UAAWC,KAAOC,WACpB+H,EAAY7I,EAAMkJ,KAAMrI,KAAOqI,MAC/BL,EAAY7I,EAAMmJ,MAAOtI,KAAOsI,OAChCN,EAAY7I,EAAMoJ,KAAMvI,KAAOuI,QChBjBC,G,uKAEjB,OAAO,kBAAC,GAAD,CAAcH,KAAM,EAAGC,MAAO,EAAGC,KAAM,Q,GAFbnH,a,4DCShBqH,G,uKACT,IAAD,OACP,OACE,kBAAC,KAAD,CAAWC,YAAa7I,KAAKV,MAAMwJ,KAAKvL,IAAKyG,MAAOhE,KAAKV,MAAM0E,QAC5D,SAAC+E,EAAUC,GAAX,OACC,uCACE9I,UAAWC,KAAOC,UAClBwF,IAAKmD,EAASE,UACVF,EAASG,eACTH,EAASI,iBAMb,kBAAC,KAAD,CAAMC,WAAW,GACf,2BAAI,EAAK9J,MAAMwJ,KAAK/K,SACpB,yBAAK0F,MAAO,CAAE4F,UAAW,UACvB,kBAAC,KAAOC,MAAR,KACG,EAAKhK,MAAMwJ,KAAKS,MAAMxF,KAAI,SAACxH,GAAD,OACzB,kBAAC,KAAD,CACEiC,IAAKjC,EAAKgB,IACV6E,MAAO7F,EAAKV,SACZwJ,UAAU,OAEV,kBAAC,KAAD,CACE5B,MAAO,CAAEgB,gBAAiBlI,EAAKiN,QAC/BnH,KAAM,kBAACpB,EAAA,EAAD,uB,GA3BIM,a,qBCHbkI,G,uKACT,IACJhF,EADG,OAEP,OAAQzE,KAAKV,MAAMoK,IACjB,IAAK,OACHjF,EAAkB,UAClB,MACF,IAAK,QACHA,EAAkB,UAClB,MACF,IAAK,OACHA,EAAkB,UAKtB,OACE,yBAAKvE,UAAWC,KAAOC,WACrB,wBAAIF,UAAWC,KAAOiC,MAAOqB,MAAO,CAAEgB,oBACnCzE,KAAKV,MAAM8C,OAEd,kBAAC,KAAD,CAAWuH,YAAa3J,KAAKV,MAAMoK,KAChC,SAACX,GAAD,OACC,uCACE7I,UAAWC,KAAOyJ,SAClBhE,IAAKmD,EAASE,UACVF,EAASc,gBAGZ,EAAKvK,MAAMwK,MAAM/F,KAAI,SAAC+E,EAAM9E,GAAP,OACpB,kBAAC,GAAD,CAAMxF,IAAKsK,EAAKvL,IAAKuL,KAAMA,EAAM9E,MAAOA,OAEzC+E,EAAS7H,qB,GAhCYK,aCCfwI,G,4MACnBvN,MAAQ,CACNwN,aAAa,EACbC,cAAe,GACfH,MAAO,CACLtB,KAAM,GACNC,MAAO,GACPC,KAAM,K,EAsBVwB,WAAa,WACX,IAAMF,GAAe,EAAKxN,MAAMwN,YAChC,EAAKtD,SAAS,CAAEsD,iB,EAQlBG,UAAY,SAACvI,GAAY,IACfwI,EAAqCxI,EAArCwI,YAAaC,EAAwBzI,EAAxByI,OAAQxB,EAAgBjH,EAAhBiH,YAE7B,GAAKuB,IAKHA,EAAYT,cAAgBU,EAAOV,aACnCS,EAAYpG,QAAUqG,EAAOrG,OAF/B,CAOA,IAAMsG,EAAQD,EAAOV,YACfY,EAASH,EAAYT,YAGrBa,EAAc,EAAKhO,MAAMsN,MAAMQ,GAAOG,MAC1C,SAAC3B,GAAD,OAAUA,EAAKvL,MAAQsL,KAEnB6B,EAA6B,EAAKlO,MAAMyN,cAAcQ,MAC1D,SAAC3B,GAAD,OAAUA,EAAKvL,MAAQsL,KAIzB2B,EAAYG,OAASJ,EACrBG,EAA2BC,OAASJ,EA3Bd,IA6BdT,EAAU,EAAKtN,MAAfsN,MACFc,EAAad,EAAMQ,GACnBO,EAAcf,EAAMS,GAE1BK,EAAWE,OAAOT,EAAOrG,MAAO,GAChC6G,EAAYC,OAAOV,EAAYpG,MAAO,EAAGwG,GAEzC,EAAK9D,SAAS,CACZoD,Y,kEAjEiB,IAAD,OfuBb5L,EAAK,eetBI+I,MAAK,SAACI,GAClB,IAAMzF,EAASyF,EAAI1K,KACnB,GAAoB,IAAhBiF,EAAOlE,KAAY,CACrB,IAAMuM,EAAgBrI,EAAOjF,KACvBmN,EAAQ,EAAKtN,MAAMsN,MACzBG,EAAc1L,SAAQ,SAACuK,GACrBgB,EAAMhB,EAAK6B,QAAQ/D,KAAKkC,MAG1B,EAAKpC,SAAS,CACZoD,QACAG,wB,+BAyDE,IAAD,EACuCjK,KAAKxD,MAA3CyN,EADD,EACCA,cAAeH,EADhB,EACgBA,MAAOE,EADvB,EACuBA,YAExBe,EACJ,kBAAC,KAAD,CAAiBZ,UAAWnK,KAAKmK,WAC/B,yBAAK1G,MAAO,CAAEC,QAAS,SACrB,kBAAC,GAAD,CAAQtB,MAAM,qBAAMsH,GAAG,OAAOI,MAAOA,EAAMtB,OAC3C,kBAAC,GAAD,CAAQpG,MAAM,qBAAMsH,GAAG,QAAQI,MAAOA,EAAMrB,QAC5C,kBAAC,GAAD,CAAQrG,MAAM,qBAAMsH,GAAG,OAAOI,MAAOA,EAAMpB,SAK3CsC,EACJ,kBAAC,KAAD,CACEjG,WAAYkF,EACZgB,YAAY,EACZC,YAAY,EACZC,OAAO,OAEP,kBAAC,GAAD,CAAQ/I,MAAM,2BAAOgJ,UAAU,UAAU5M,IAAI,YAC7C,kBAAC,GAAD,CACE4D,MAAM,qBACNgJ,UAAU,QACV5M,IAAI,QACJ6M,OAAQ,SAAC9B,GAAD,OACN,kBAAC,KAAOD,MAAR,KACGC,EAAMxF,KAAI,SAACxH,GAAD,OACT,kBAAC,KAAD,CAASiC,IAAKjC,EAAKgB,IAAK6E,MAAO7F,EAAKV,SAAUwJ,UAAU,OACtD,kBAAC,KAAD,CACE5B,MAAO,CAAEgB,gBAAiBlI,EAAKiN,QAC/BnH,KAAM,kBAACpB,EAAA,EAAD,gBAOlB,kBAAC,GAAD,CAAQmB,MAAM,eAAKgJ,UAAU,SAAS5M,IAAI,YAI9C,OACE,kBAAC,KAAD,CACE4D,MAAM,gBACNsF,MACE,uBAAGpG,QAAStB,KAAKkK,YACdF,EACC,kBAACsB,GAAA,EAAD,CAAuB7H,MAAO,CAAEmE,SAAU,UAE1C,kBAAClF,GAAA,EAAD,CAAiBe,MAAO,CAAEmE,SAAU,YAKzCoC,EAAce,EAAYC,O,GAvIAzJ,a,8BCR3BgK,GAAWC,KAAXD,OAEO,SAASE,GAAWnM,GACjC,OACE,kBAAC,IAAD,CACEsG,IAAKtG,EAAMuG,QACXC,SAAU,CACRvF,KAAM,GAERD,WAAY,CACVC,KAAM,KAGR,kBAAC,IAAKI,KAAN,CACEH,KAAK,MACLuF,MAAM,2BACNjF,MAAO,CACL,CACEC,UAAU,EACVH,QAAS,sDAIb,kBAAC,KAAD,CACE8K,YAAU,EACVxK,YAAY,2BACZyK,iBAAiB,WACjBC,aAAc,SAACC,EAAOC,GAAR,OACZA,EAAOzD,SAAS0D,cAAcC,QAAQH,EAAME,gBAAkB,IAG/DzM,EAAM3C,KAAKoH,KAAI,SAACxH,EAAMyH,GAAP,OACd,kBAACuH,GAAD,CAAQ/M,IAAKwF,EAAOkD,MAAO3K,EAAKgB,KAC7BhB,EAAKV,eAKd,kBAAC,IAAK8E,KAAN,CACEH,KAAK,QACLuF,MAAM,2BACNjF,MAAO,CACL,CACEC,UAAU,EACVH,QAAS,sDAIb,kBAAC,KAAD,CAAQiD,KAAK,WAAWoI,YAAU,EAAC/K,YAAY,4BAC5C5B,EAAM4M,MAAMnI,KAAI,SAACoI,EAAMnI,GAAP,OACf,kBAACuH,GAAD,CAAQ/M,IAAKwF,EAAOkD,MAAOiF,EAAK3L,MAC7B2L,EAAK3L,YClCpB,IAAM4L,GAAc,CAClB,CACEC,MAAO,UACP7L,KAAM,4BAER,CACE6L,MAAO,UACP7L,KAAM,4BAER,CACE6L,MAAO,UACP7L,KAAM,4BAER,CACE6L,MAAO,UACP7L,KAAM,mBAIW8L,G,4MACnB9P,MAAQ,CACN+M,MAAO,GACPgD,QAAS,GACThG,SAAS,G,EAEXiG,QAAU,CACR,CACEpK,MAAO,eACPgJ,UAAW,WACXC,OAAQ,SAACoB,EAAMC,GAAP,OACN,kBAAC,IAAD,KACE,kBAAC,KAAD,CACEjJ,MAAO,CAAEgB,gBAAiBiI,EAAOlD,QACjCnH,KAAM,kBAACpB,EAAA,EAAD,QAGR,2BAAIwL,MAMV,CACErK,MAAO,eACPgJ,UAAW,QACXC,OAAQ,SAACoB,GAAD,OAAU,yBAAKhJ,MAAO,CAAE4I,MAAO,oBAAsBI,KAE/D,CACErK,MAAO,eACPgJ,UAAW,QACXC,OAAQ,SAACa,GAAD,OACNA,EAAMnI,KAAI,SAACoI,EAAMnI,GAAP,OACR,kBAAC,KAAD,CAAKxF,IAAKwF,EAAOqI,MAAOF,EAAKE,OAC1BF,EAAK3L,WAId,CACE4B,MAAO,eACPgJ,UAAW,MACX5M,IAAK,SACL6M,OAAQ,SAAC9N,GAAD,OACN,kBAAC,KAAD,CACE8H,UAAU,OACVjD,MAAM,mDACNkD,UAAW,kBAAM,EAAKqH,UAAUpP,IAChCgI,OAAO,eACPC,WAAW,gBAEX,uBAAGhH,IAAI,UACL,kBAACoO,GAAA,EAAD,W,EAOVD,UAAY,SAACjD,GACX,IAAM6C,EAAU,EAAK/P,MAAM+P,QAAQM,QAAO,SAACC,GAAD,OAAYA,EAAOvP,MAAQmM,KACrE,EAAKhD,SAAS,CAAE6F,a,EAGlB9F,UAAY,WACV,EAAKC,SAAS,CACZH,SAAS,K,EAIbM,SAAW,SAACC,GACV,EAAKC,KACFC,iBACAC,MAAK,SAACC,GACL,IAAM3K,EAAO,EAAKC,MAAM+M,MAAMkB,MAAK,SAAClO,GAAD,OAAUA,EAAKgB,MAAQ2J,EAAM3J,OAC1DgM,EAAQ,EAAK/M,MAAM+M,MAAMsD,QAAO,SAACtQ,GAAD,OAAUA,EAAKgB,MAAQ2J,EAAM3J,OAC7D2O,EAAQE,GAAYS,QAAO,SAACV,GAChC,OAAkE,IAA3DjF,EAAMgF,MAAMhJ,WAAU,SAACgE,GAAD,OAAWiF,EAAK3L,OAAS0G,QAMlDqF,EAAO,CAJE,2BACVhQ,GADU,IAEb2P,WAEW,mBAAkB,EAAK1P,MAAM+P,UAC1C,EAAK7F,SAAS,CACZ6F,UACAhD,QACAhD,SAAS,IAEX,EAAKQ,KAAKO,iBAEXC,OAAM,SAACC,GACN9H,QAAQC,IAAI,iCAAS6H,O,EAI3BC,aAAe,SAACX,GACd,EAAKJ,SAAS,CACZH,SAAS,K,kEAIQ,IAAD,OjB1FbrI,EAAK,qBiB2FM+I,MAAK,SAACI,GACpB,IAAMzF,EAASyF,EAAI1K,KACnB,GAAoB,IAAhBiF,EAAOlE,KAAY,CACrB,IAAM6O,EAAU3K,EAAOjF,KACvB,EAAK+J,SAAS,CACZ6F,gBjBlIDrO,EAAK,eiBwII+I,MAAK,SAACI,GAClB,IAAMzF,EAASyF,EAAI1K,KACnB,GAAoB,IAAhBiF,EAAOlE,KAAY,CACrB,IAAM6L,EAAQ3H,EAAOjF,KACrB,EAAK+J,SAAS,CACZ6C,gB,+BAME,IAAD,OACP,OACE,6BACE,kBAAC,KAAD,CACEnH,MAAM,2BACNsF,MACE,uBAAGpG,QAAStB,KAAKyG,WACf,kBAACkB,GAAA,EAAD,CAAkBlE,MAAO,CAAEmE,SAAU,YAezC,kBAAC,KAAD,CACEsD,YAAY,EACZD,YAAY,EACZE,OAAO,MACPqB,QAASxM,KAAKwM,QACdzH,WAAY/E,KAAKxD,MAAM+P,WAI3B,kBAAC,KAAD,CACEnK,MAAM,2BACN4D,MAAO,IACPO,QAASvG,KAAKxD,MAAM+J,QACpBsB,KAAM7H,KAAK6G,SACXiB,SAAU9H,KAAKyH,aACflC,OAAO,eACPC,WAAW,gBAEX,kBAACiG,GAAD,CACE5F,QAAS,SAACkC,GAAD,OAAS,EAAKhB,KAAOgB,GAC9BpL,KAAMqD,KAAKxD,MAAM+M,MACjB2C,MAAOE,W,GAvKiB7K,aChC5BkI,GAAWsD,KAAXtD,OAEFuD,GAAW,CACf,CACEX,MAAO,UACP3I,QAAS,UAEX,CACE2I,MAAO,UACP3I,QAAS,UAEX,CACE2I,MAAO,UACP3I,QAAS,WAIQuJ,G,4MACnBzQ,MAAQ,CACN+J,SAAS,EACT2G,QAAS,CACP,CACE3P,IAAK,aACL4O,KAAM,eACNgB,SAAU,yDACVC,KAAM,WACNJ,SAAU,EACVK,cAAe,uIACfvD,MAAO,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,M,EAItCrD,UAAY,WACV,EAAKC,SAAS,CACZH,SAAS,K,EAIbkB,aAAe,SAACX,GACd,EAAKJ,SAAS,CACZH,SAAS,K,uDAKX,OACE,6BACE,kBAAC,KAAD,CACEnE,MAAM,2BACNsF,MACE,uBAAGpG,QAAStB,KAAKyG,WACf,kBAACkB,GAAA,EAAD,CAAkBlE,MAAO,CAAEmE,SAAU,YAIzC,kBAAC,KAAD,CACE7C,WAAY/E,KAAKxD,MAAM0Q,QACvBjC,YAAY,EACZE,OAAO,OAEP,kBAAC,GAAD,CACE/I,MAAM,qBACNgJ,UAAU,WACV5M,IAAI,WACJ6M,OAAQ,SAACnE,GACP,IAAMoG,EAAIN,GAAS9F,GACnB,OACE,kBAAC,KAAD,CACEzD,MAAO,CAAEuC,MAAO,OAAQqD,UAAW,UACnCgD,MAAOiB,EAAEjB,OAERiB,EAAE5J,YAKX,kBAAC,GAAD,CAAQtB,MAAM,2BAAOgJ,UAAU,OAAO5M,IAAI,SAC1C,kBAAC,GAAD,CAAQ4D,MAAM,eAAKgJ,UAAU,OAAO5M,IAAI,SACxC,kBAAC,GAAD,CAAQ4D,MAAM,eAAKgJ,UAAU,WAAW5M,IAAI,aAC5C,kBAAC,GAAD,CACE4D,MAAM,eACNgJ,UAAU,gBACV5M,IAAI,gBACJ+O,UAAQ,IAGV,kBAAC,GAAD,CACEnL,MAAM,2BACN5D,IAAI,WACJ6M,OAAQ,kBAAM,kBAAC,GAAD,CAAc7C,KAAM,EAAGC,MAAO,EAAGC,KAAM,OAEvD,kBAAC,GAAD,CACEtG,MAAM,2BACN5D,IAAI,QACJ6M,OAAQ,kBACN,kBAAC,IAAD,CAAMpL,GAAG,kBACP,kBAACyC,GAAA,EAAD,YAOV,kBAAC,KAAD,CACEN,MAAM,2BACN4D,MAAO,IACPO,QAASvG,KAAKxD,MAAM+J,QACpBsB,KAAM7H,KAAK6G,SACXiB,SAAU9H,KAAKyH,aACflC,OAAO,eACPC,WAAW,sB,GA7FcjE,a,oBChB7BiM,GAAgB,SAACC,GAAD,MAAa,CACjC/Q,KvBN2B,gBuBO3BC,KAAM8Q,I,qBCCAhI,GAAgBC,KAAhBD,YACAgE,GAAWsD,KAAXtD,OAEFiE,G,4MACJlR,MAAQ,CACN+J,SAAS,G,EAGXE,UAAY,WACV,EAAKC,SAAS,CACZH,SAAS,K,EAIbkB,aAAe,SAACX,GACd,EAAKJ,SAAS,CACZH,SAAS,K,EAIbM,SAAW,SAACC,GACV,EAAKC,KACFC,iBACAC,MAAK,SAACC,GACL,IAAMC,EAAYD,EAAK,UACjBhL,EAAYiL,EAAU,GAAGC,OAAO,cAChCjL,EAAUgL,EAAU,GAAGC,OAAO,cACpC,EAAK9H,MAAMqO,aAAa,CAAEzR,YAAWC,YACrC,EAAKuK,SAAS,CACZH,SAAS,IAEX,EAAKQ,KAAKO,iBAEXC,OAAM,SAACC,GACN9H,QAAQC,IAAI,iCAAS6H,O,kEAKzBxH,KAAKV,MAAMsO,e,+BAGH,IAAD,SACwB5N,KAAKV,MAAM1C,QAAlCV,EADD,EACCA,UAAWC,EADZ,EACYA,QACbU,EAAUmD,KAAKV,MAAMzC,QACrB6B,EAAS7B,EAAQ6B,OAEnBmP,EAAe3R,EAEnB,GAAIwC,EAAS,EAAG,CACd,IAAMoP,EAAcjR,EAAQ6B,EAAS,GAAGvC,QACxC0R,EAAeE,KAAOD,GAAaE,IAAI,EAAG,QAAQ5G,OAAO,cAG3D,OACE,6BACE,kBAAC,KAAD,CACEhF,MAAM,2BACNsF,MACE,uBAAGpG,QAAStB,KAAKyG,WACf,kBAACkB,GAAA,EAAD,CAAkBlE,MAAO,CAAEmE,SAAU,YAIzC,kBAAC,KAAD,CACE7C,WAAYlI,EACZoO,YAAY,EACZC,YAAY,EACZC,OAAO,MACP8C,aAAc,SAACvB,GACb,OAAOqB,OAASG,UACdxB,EAAOxQ,UACPwQ,EAAOvQ,QACP,KACA,MAEEgE,KAAOgO,UACP,OAGN,kBAAC,GAAD,CAAQ/L,MAAM,2BAAOgJ,UAAU,YAAY5M,IAAI,cAC/C,kBAAC,GAAD,CAAQ4D,MAAM,2BAAOgJ,UAAU,UAAU5M,IAAI,YAC7C,kBAAC,GAAD,CAAQ4D,MAAM,2BAAO5D,IAAI,SAAS6M,OAAQ,iBAAM,UAChD,kBAAC,GAAD,CACEjJ,MAAM,2BACN5D,IAAI,QACJ6M,OAAQ,kBACN,kBAAC,IAAD,CAAMpL,GAAG,kBACP,kBAACyC,GAAA,EAAD,YAOV,kBAAC,KAAD,CACEN,MAAM,2BACN4D,MAAO,IACPO,QAASvG,KAAKxD,MAAM+J,QACpBsB,KAAM7H,KAAK6G,SACXiB,SAAU9H,KAAKyH,aACflC,OAAO,eACPC,WAAW,gBAEX,kBAAC,IAAD,CAAMI,IAAK,SAACmC,GAAD,OAAS,EAAKhB,KAAOgB,IAC9B,kBAAC,IAAKpH,KAAN,CACEH,KAAK,YACLM,MAAO,CACL,CACEC,UAAU,EACVH,QAAS,sDAIb,kBAAC,GAAD,CACEwN,aAAc,SAACC,GAAD,OACXA,EAAYH,UAAUL,EAAc1R,EAAS,MAAO,OAEvDmS,mBAAoB,CAACP,KAAOF,IAC5BpK,MAAO,CACLuC,MAAO,kB,GArHJzE,aAsIfyG,GAAqB,CAAE2F,aDvID,SAACF,GAC3B,8CAAO,WAAOhM,GAAP,iBAAAC,EAAA,sEnB6CAxD,EAAK,kBAAmB,CAAEhC,WADH,EmB3CeuR,GnB2CbvR,UACYC,QADa,EAAdA,SACY,QmB7ChD,OACCwF,EADD,OAGe,KADdC,EAASD,EAAShF,MACbe,MACT+D,EAAS+L,GAAc5L,EAAOjF,OAJ3B,iCnB4CsB,IAAC,ImB5CvB,OAAP,uDCsIyCiR,WD7HjB,WACxB,8CAAO,WAAOnM,GAAP,iBAAAC,EAAA,sEnB+BAxD,EAAK,iBmB/BL,OACCyD,EADD,OAGe,KADdC,EAASD,EAAShF,MACbe,MACT+D,EAzB+B,CACnC/E,KvBH6B,kBuBI7BC,KAuB4BiF,EAAOjF,OAJ5B,2CAAP,wDC8Ha6E,gBARS,SAAChF,GAAD,MAAY,CAElCI,QAASJ,EAAMI,QACfC,QAASL,EAAMK,WAKuBmL,GAAzBxG,CAA6CkM,I,UCnJ7C,qBACb,kBAAC,KAAD,CACE/C,OAAO,MACPvI,MAAM,MACNqB,MAAO,CACL8K,WAAY,QAEdC,SAAS,oCCULC,GAAYC,KAAZD,QAEFE,G,4MACJnS,MAAQ,CACN+G,WAAW,G,EAGbqL,QAAU,CACR,CACEzM,KAAM,IACN0M,UAAWvI,GACXwI,OAAO,GAET,CACE3M,KAAM,mBACN0M,UAAW5G,IAEb,CACE9F,KAAM,kBACN0M,UAAWvC,IAEb,CACEnK,KAAM,mBACN0M,UAAWlG,IAEb,CACExG,KAAM,iBACN0M,UAAW5B,IAEb,CACE9K,KAAM,iBACN0M,UAAW9E,IAEb,CACE5H,KAAM,kBACN0M,UAAWnB,IAEb,CACEmB,UAAWE,K,EAIfvK,OAAS,WACP,EAAKkC,SAAS,CACZnD,WAAY,EAAK/G,MAAM+G,a,EAI3BqB,OAAS,WACP,IAAIoK,EAAI,gBACRC,KAAMC,QAAQ,CACZ9M,MAAO,mDACPC,KAAM,kBAAC8M,GAAA,EAAD,MACN3J,WAAY,eACZD,OAAQ,eACRsC,KALY,WAMVrK,IAAQ4R,OAAO,aACf5R,IAAQ4R,OAAO,UACfJ,EAAK1P,MAAMH,YACX6P,EAAK1P,MAAM+G,mB,kEAMA7I,IAAQM,IAAI,YACZkC,KAAKV,MAAM/C,KAAKgB,KAC7ByC,KAAKV,MAAM+P,UAGK7R,IAAQM,IAAI,eACZkC,KAAKV,MAAM1C,QAAQW,KACnCyC,KAAKV,MAAMgQ,e,+BAKb,IAAMvP,EAASvC,IAAQM,IAAI,UACrBG,EAAYT,IAAQM,IAAI,aACxB+E,IAC6B,MAAjC7C,KAAKV,MAAMyD,SAASC,WAAqB/E,GAC3C,OAAK8B,EAGD8C,IAAa5E,EACR,kBAAC,IAAD,CAAUgC,GAAG,MAMpB,kBAAC,KAAD,CACEwD,MAAO,CAAE8L,SAAU,QAASC,IAAK,EAAGC,KAAM,EAAGC,MAAO,EAAGC,OAAQ,IAE/D,kBAAC,GAAD,CAAO9M,SAAUA,EAAUU,UAAWvD,KAAKxD,MAAM+G,YACjD,kBAAC,KAAD,CAAQE,MAAO,CAAEmM,UAAW,UAC1B,kBAAC,GAAD,CACE3T,YAAa+D,KAAKV,MAAM1C,QAAQX,YAChCJ,SAAUmE,KAAKV,MAAM/C,KAAKV,SAC1B0H,UAAWvD,KAAKxD,MAAM+G,UACtBiB,OAAQ3B,EAAW7C,KAAKwE,OAAS,KACjCI,OAAQ5E,KAAK4E,SAEf,kBAAC6J,GAAD,CAAShL,MAAO,CAAEoM,QAAS,OAAQD,UAAW,SAC5C,kBAAC,IAAD,KACG5P,KAAK4O,QAAQ7K,KAAI,SAAC+L,EAAK9L,GAAN,OAChB,kBAAC,IAAD,eAAOxF,IAAKwF,GAAW8L,WAxB1B,kBAAC,IAAD,CAAU7P,GAAG,e,GAhFPsB,aAuHbyG,GAAqB,CAAE7I,YAAWkH,gBAAciJ,Wd1G5B,WACxB,8CAAO,WAAO7N,GAAP,iBAAAC,EAAA,sERDAxD,EAAK,qBQCL,OACCyD,EADD,OAGe,KADdC,EAASD,EAAShF,MACbe,KACT+D,EAAS2E,GAAcxE,EAAOjF,OAE9B8E,EAAS4E,GAAazE,EAAO7F,MAN1B,2CAAP,uDcyGgEsT,QrBzF3C,WACrB,8CAAO,WAAO5N,GAAP,iBAAAC,EAAA,sED1CAxD,EAAK,eC0CL,OACCyD,EADD,OAGe,KADdC,EAASD,EAAShF,MACbe,KACT+D,EAnDyB,CAAE/E,KNHL,eMG+BC,KAmDhCiF,EAAOjF,OAE5B8E,EAAStC,EAAUyC,EAAO7F,MANvB,2CAAP,wDqB0FayF,gBAPS,SAAChF,GAAD,MAAY,CAClCD,KAAMC,EAAMD,KACZK,QAASJ,EAAMI,WAKuBoL,GAAzBxG,CAA6CmN,I,cChI5DoB,IAAS1E,OACP,kBAAC,IAAD,CAAgB2E,OAAQA,KACtB,kBAAC,IAAD,CAAUC,MAAOA,GACf,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO9N,KAAK,SAAS0M,UAAWzP,IAChC,kBAAC,IAAD,CAAO+C,KAAK,YAAY0M,UAAWhN,KACnC,kBAAC,IAAD,CAAOgN,UAAWF,SAK1BuB,SAASC,eAAe,U,mBC1B1BzU,EAAOC,QAAU,CAAC,UAAY,0BAA0B,QAAU,0BAA0B,KAAO,6B","file":"static/js/main.5b77ce59.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"_1OudY3eOKhometcdjAwwJe\",\"block\":\"_3XQvD5xzQqFYVc82P0lIj5\",\"todo\":\"F8xQiMGthcmBSQ-2y0WyE\",\"doing\":\"_3iTTJmnixGLrDuefYG5tpt\",\"done\":\"_27SZsenZ6rYbNWvlmf0x5x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"_3KC7A6KeRiBRBNS8pjubt2\",\"logout\":\"_2ZSJ5f9P9bbeghV5GDeiDl\",\"trigger\":\"_1HT5wiUkXowZkSyhDkNL_r\",\"title\":\"_3PD8D_5zvRE42Yw2v6pHeH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"_28Yq8Uj4udGSGVy9BijsDd\",\"title\":\"_3qdcpPcztQVfUl2awh8bA6\",\"taskList\":\"r7XB1Ka3JINz4aqCER96g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sider\":\"_1ouATjjGDUa7atLAzCEEI1\",\"logo\":\"_11ozg1j2cLMixBMi6Bvoxz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"_3cggNLZEWOO97z_1lNBvEc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"curSprint\":\"_21kfxKD7nJ8vn4TuGLGB3u\"};","import * as types from './action-types';\n\nconst initUser = {\n  username: '',\n  email: '',\n  msg: '',\n};\n\nexport function user(state = initUser, action) {\n  switch (action.type) {\n    case types.AUTH_SUCCESS:\n      return action.data;\n    case types.RECEIVE_USER:\n      return action.data;\n    case types.RESET_USER:\n      return {\n        ...initUser,\n        msg: action.data,\n      };\n    case types.ERROR_MSG:\n      return {\n        ...state,\n        msg: action.data,\n      };\n    default:\n      return state;\n  }\n}\n","//获取项目列表\n// export const RECEIVE_PROJECT_LIST = 'RECEIVE_PROJECT_LIST';\n//新增项目到列表\n// export const RECEIVE_NEW_PROJECT = 'RECEIVE_NEW_PROJECT';\n//选择并切换至该项目\nexport const SWITCH_PROJECT = 'SWITCH_PROJECT';\n//退出时注销当前选择的项目\nexport const RESET_PROJECT = 'RESET_PROJECT';\n//项目请求出错\nexport const ERROR_MSG = 'ERROR_MSG';\n","import * as types from './action-types';\n\nconst initProject = {\n  projectName: '',\n  startDate: null,\n  endDate: null,\n  description: '',\n  msg: '',\n};\n\nexport function project(state = initProject, action) {\n  switch (action.type) {\n    case types.SWITCH_PROJECT:\n      return action.data;\n    case types.RESET_PROJECT:\n      return {\n        ...initProject,\n        msg: action.data,\n      };\n    case types.ERROR_MSG:\n      return {\n        ...state,\n        msg: action.data,\n      };\n    default:\n      return state;\n  }\n}\n\n// export function projectList(state = [], action) {\n//   switch (action.type) {\n//     case types.RECEIVE_PROJECT_LIST:\n//       return action.data;\n//     case types.RECEIVE_NEW_PROJECT:\n//       return [action.data, ...state];\n//     default:\n//       return state;\n//   }\n// }\n","import * as types from './action-types';\n\nconst initSprints = [];\n\nexport function sprints(state = initSprints, action) {\n  switch (action.type) {\n    case types.RECEIVE_SPRINTS:\n      return action.data;\n    case types.CREATE_SPRINT:\n      return [...state, action.data];\n    default:\n      return state;\n  }\n}\n","/*\n包含多个用于生成新的state 的reducer 函数的模块\n*/\nimport { combineReducers } from 'redux';\n\nimport { user } from './user/reduces';\nimport { project } from './project/reduces';\nimport { sprints } from './sprints/reduces';\n\n// 返回合并后的reducer 函数\nexport default combineReducers({\n  user,\n  project,\n  sprints,\n  // projectList,\n});\n","//验证成功\nexport const AUTH_SUCCESS = 'AUTH_SUCCESS';\n//获取当前用户\nexport const RECEIVE_USER = 'RECEIVE_USER';\n\n//用户请求出错\nexport const ERROR_MSG = 'ERROR_MSG';\n\nexport const RESET_USER = 'RESET_USER';\n","//获取当前项目冲刺周期\nexport const RECEIVE_SPRINTS = 'RECEIVE_SPRINTS';\n//新增冲刺周期\nexport const CREATE_SPRINT = 'CREATE_SPRINT';\n","/*\nredux 最核心的store 对象模块\n*/\nimport { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nimport reducers from './reducers';\n\nexport default createStore(\n  reducers,\n  composeWithDevTools(applyMiddleware(thunk))\n);\n","import Mock from \"mockjs\";\nimport Cookies from \"js-cookie\";\n\nconst api = \"http://mock\";\n\nMock.mock(`${api}/users/login`, \"post\", function (options) {\n  const _id = Mock.mock(\"@id\");\n  Cookies.set(\"userId\", _id);\n  return {\n    code: 0,\n    data: {\n      username: JSON.parse(options.body).username,\n      _id,\n    },\n  };\n});\n\nMock.mock(`${api}/users/register`, \"post\", function (options) {\n  const body = JSON.parse(options.body);\n  if (body.username === \"guoyunxiang\") {\n    return {\n      code: 1,\n      msg: \"用户名已经被注册\",\n    };\n  }\n  const _id = Mock.mock(\"@id\");\n  Cookies.set(\"userId\", _id);\n  return {\n    code: 0,\n    data: {\n      username: body.username,\n      _id,\n    },\n  };\n});\n\nMock.mock(`${api}/users/user`, \"get\", function () {\n  return {\n    code: 0,\n    data: {\n      username: Mock.mock(\"@last\"),\n      _id: Cookies.get(\"userId\"),\n    },\n  };\n});\n\nMock.mock(`${api}/projects/list`, \"get\", function () {\n  const { data } = Mock.mock({\n    \"data|5-10\": [\n      {\n        _id: \"@id\",\n        projectName: \"@ctitle\",\n        description: \"@cparagraph(2,3)\",\n        startDate: \"2020-07-14\",\n        endDate: \"2020-12-24\",\n      },\n    ],\n  });\n  return {\n    code: 0,\n    data: [\n      // {\n      //   _id: '1000000000',\n      //   projectName: 'BesTV互联网电视助手',\n      //   description: '通过微信小程序实现登录，点播，聊天等大小屏互动功能。',\n      // },\n      ...data,\n    ],\n  };\n});\n\nMock.mock(`${api}/projects/create`, \"post\", function (options) {\n  return {\n    code: 0,\n    data: {\n      ...JSON.parse(options.body),\n      _id: Mock.mock(\"@id\"),\n    },\n  };\n});\n\nMock.mock(`${api}/projects/project`, \"get\", function () {\n  return {\n    code: 0,\n    data: {\n      projectName: Mock.mock(\"@ctitle\"),\n      description: Mock.mock(\"@cparagraph(2,3)\"),\n      _id: Cookies.get(\"projectId\"),\n      startDate: \"2020-07-14\",\n      endDate: \"2020-12-24\",\n    },\n  };\n});\n\nMock.mock(`${api}/tasks/list`, \"get\", function () {\n  return {\n    code: 0,\n    ...Mock.mock({\n      \"data|10-20\": [\n        {\n          _id: \"@id\",\n          content: \"@csentence\",\n          \"status|1\": [\"todo\", \"doing\", \"done\"],\n          storyId: \"@id\",\n          projectId: Cookies.get(\"projectId\"),\n          \"users|0-5\": [\n            {\n              _id: \"@id\",\n              \"avatar|1\": [\"#f56a00\", \"#7265e6\", \"#00a2ae\"],\n              username: \"@last\",\n            },\n          ],\n        },\n      ],\n    }),\n  };\n});\n\nMock.mock(`${api}/projects/members`, \"get\", function () {\n  return {\n    code: 0,\n    ...Mock.mock({\n      \"data|8-12\": [\n        {\n          _id: \"@id\",\n          \"avatar|1\": [\"#f56a00\", \"#7265e6\", \"#00a2ae\"],\n          username: \"@last\",\n          email: \"@email\",\n          \"roles|1-4\": [\n            {\n              \"color|1\": [\"#f56a00\", \"#7265e6\", \"#00a2ae\", \"#ffbf00\"],\n              \"name|1\": [\"项目经理\", \"前端开发\", \"后端开发\", \"UI设计\"],\n            },\n          ],\n        },\n      ],\n    }),\n  };\n});\n\nMock.mock(`${api}/users/list`, \"get\", function () {\n  return {\n    code: 0,\n    ...Mock.mock({\n      \"data|5-8\": [\n        {\n          _id: \"@id\",\n          \"avatar|1\": [\"#f56a00\", \"#7265e6\", \"#00a2ae\"],\n          username: \"@last\",\n          email: \"@email\",\n        },\n      ],\n    }),\n  };\n});\n\nMock.mock(`${api}/sprints/create`, \"post\", function (options) {\n  return {\n    code: 0,\n    data: {\n      _id: Mock.mock(\"@id\"),\n      ...JSON.parse(options.body),\n    },\n  };\n});\n\nMock.mock(`${api}/sprints/list`, \"get\", function () {\n  return {\n    code: 0,\n    data: [\n      {\n        _id: Mock.mock(\"@id\"),\n        startDate: \"2020-07-14\",\n        endDate: \"2020-07-30\",\n      },\n      {\n        _id: Mock.mock(\"@id\"),\n        startDate: \"2020-07-31\",\n        endDate: \"2020-08-26\",\n      },\n      {\n        _id: Mock.mock(\"@id\"),\n        startDate: \"2020-08-27\",\n        endDate: \"2020-09-13\",\n      },\n    ],\n  };\n});\n","import axios from \"axios\";\nimport \"../mock/mock\";\n\nconst api = \"http://mock\";\n\nexport default function ajax(url = \"\", data = {}, type = \"GET\") {\n  if (type === \"GET\") {\n    let dataStr = \"\";\n    Object.keys(data).forEach((key) => {\n      dataStr += key + \"=\" + data[key] + \"&\";\n    });\n    if (dataStr) {\n      dataStr = \"?\" + dataStr.substring(0, dataStr.length - 1);\n    }\n    return axios.get(api + url + dataStr);\n  } else {\n    return axios.post(api + url, data);\n  }\n}\n","import ajax from './ajax';\n\nexport const reqLogin = ({ username, password }) => {\n  return ajax('/users/login', { username, password }, 'POST');\n};\n\nexport const reqRegister = ({ username, password }) => {\n  return ajax('/users/register', { username, password }, 'POST');\n};\n\nexport const reqUser = () => {\n  return ajax('/users/user');\n};\n\n//获取所有注册用户列表\nexport const reqUserList = () => {\n  return ajax('/users/list');\n};\n\n//新增项目\nexport const reqCreateProject = ({\n  projectName,\n  startDate,\n  endDate,\n  description,\n}) => {\n  return ajax(\n    '/projects/create',\n    { projectName, startDate, endDate, description },\n    'POST'\n  );\n};\n\n//获取项目信息\nexport const reqProject = () => {\n  return ajax('/projects/project');\n};\n\n//获取项目列表\nexport const reqProjectList = () => {\n  return ajax('/projects/list');\n};\n\n//根据projectId获取任务列表\nexport const reqTaskList = () => {\n  return ajax('/tasks/list');\n};\n\n//根据projectId获取成员列表\nexport const reqMemberList = () => {\n  return ajax('/projects/members');\n};\n\n//根据projectId获取冲刺周期列表list\nexport const reqSprintList = () => {\n  return ajax('/sprints/list');\n};\n//新增冲刺周期\nexport const reqCreateSprint = ({ startDate, endDate }) => {\n  return ajax('/sprints/create', { startDate, endDate }, 'POST');\n};\n","import * as types from \"./action-types\";\nimport * as api from \"../../api\";\n\n//用户\nconst authSuccess = (user) => ({ type: types.AUTH_SUCCESS, data: user });\n\nconst receiveUser = (user) => ({ type: types.RECEIVE_USER, data: user });\n\nconst errorMsg = (msg) => ({ type: types.ERROR_MSG, data: msg });\n\nexport const resetUser = (msg) => {\n  return { type: types.RESET_USER, data: msg };\n};\n\n//登录\nexport const login = (user) => {\n  const { username, password } = user;\n  if (!username || !password) {\n    return errorMsg(\"请输入用户名和密码\");\n  }\n  return async (dispatch) => {\n    const response = await api.reqLogin(user);\n    const result = response.data;\n    if (result.code === 0) {\n      dispatch(authSuccess(result.data));\n    } else {\n      dispatch(errorMsg(result.msg));\n    }\n  };\n};\n\n//注册\nexport const register = (user) => {\n  const { username, password, password2 } = user;\n  if (!username || !password || !password2) {\n    return errorMsg(\"请输入用户名和密码\");\n  }\n  if (password !== password2) {\n    return errorMsg(\"输入的密码不一致\");\n  }\n  return async (dispatch) => {\n    const response = await api.reqRegister(user);\n    const result = response.data;\n    if (result.code === 0) {\n      dispatch(authSuccess(result.data));\n    } else {\n      dispatch(errorMsg(result.msg));\n    }\n  };\n};\n\n//获取用户信息\nexport const getUser = () => {\n  return async (dispatch) => {\n    const response = await api.reqUser();\n    const result = response.data;\n    if (result.code === 0) {\n      dispatch(receiveUser(result.data));\n    } else {\n      dispatch(resetUser(result.msg));\n    }\n  };\n};\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport { Form, Input, Button, Alert, Space } from \"antd\";\nimport { UserOutlined, LockOutlined } from \"@ant-design/icons\";\nimport Cookies from \"js-cookie\";\n\nimport styles from \"./login.module.less\";\n\nimport { login } from \"../../redux/user/actions\";\n\nclass Login extends Component {\n  onFinish = (user) => {\n    this.props.login(user);\n  };\n\n  onFinishFailed = (errorInfo) => {\n    console.log(\"Failed:\", errorInfo);\n  };\n\n  toRegister = () => {\n    this.props.history.replace(\"/register\");\n  };\n\n  render() {\n    const userId = Cookies.get(\"userId\");\n    const { msg } = this.props.user;\n    if (userId) {\n      return <Redirect to=\"/\" />;\n    }\n    return (\n      <div className={styles.container}>\n        <div className={styles.content}>\n          <div className={styles.main}>\n            <Form\n              wrapperCol={{ span: 24 }}\n              name=\"loginForm\"\n              initialValues={{\n                remember: true,\n              }}\n              onFinish={this.onFinish}\n              onFinishFailed={this.onFinishFailed}\n            >\n              <Form.Item>\n                {msg ? <Alert type=\"error\" message={msg} showIcon /> : null}\n              </Form.Item>\n              <Form.Item\n                name=\"username\"\n                rules={[\n                  {\n                    required: true,\n                    message: \"请输入用户名！\",\n                  },\n                ]}\n              >\n                <Input\n                  prefix={<UserOutlined className=\"site-form-item-icon\" />}\n                  placeholder=\"用户名\"\n                />\n              </Form.Item>\n              <Form.Item\n                name=\"password\"\n                rules={[\n                  {\n                    required: true,\n                    message: \"请输入密码！\",\n                  },\n                ]}\n              >\n                <Input.Password\n                  prefix={<LockOutlined className=\"site-form-item-icon\" />}\n                  placeholder=\"密码\"\n                />\n              </Form.Item>\n              <Form.Item>\n                <Space>\n                  <Button type=\"primary\" htmlType=\"submit\">\n                    登录\n                  </Button>\n                  <Button htmlType=\"button\" onClick={this.toRegister}>\n                    注册账号\n                  </Button>\n                </Space>\n              </Form.Item>\n            </Form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect((state) => ({ user: state.user }), { login })(Login);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router\";\nimport { Form, Input, Button, Alert, Space } from \"antd\";\nimport { UserOutlined, LockOutlined } from \"@ant-design/icons\";\nimport Cookies from \"js-cookie\";\n\nimport styles from \"../login/login.module.less\";\n\nimport { register } from \"../../redux/user/actions\";\n\nclass Register extends Component {\n  onFinish = (user) => {\n    this.props.register(user);\n    console.log(\"Success:\", user);\n  };\n\n  onFinishFailed = (errorInfo) => {\n    console.log(\"Failed:\", errorInfo);\n  };\n\n  toLogin = () => {\n    this.props.history.replace(\"/login\");\n  };\n\n  render() {\n    const userId = Cookies.get(\"userId\");\n    const { msg } = this.props.user;\n    if (userId) {\n      return <Redirect to=\"/\" />;\n    }\n    return (\n      <div className={styles.container}>\n        <div className={styles.content}>\n          <div className={styles.main}>\n            <Form\n              wrapperCol={{ span: 24 }}\n              name=\"loginForm\"\n              initialValues={{\n                remember: true,\n              }}\n              onFinish={this.onFinish}\n              onFinishFailed={this.onFinishFailed}\n            >\n              <Form.Item>\n                {msg ? <Alert type=\"error\" message={msg} showIcon /> : null}\n              </Form.Item>\n              <Form.Item\n                name=\"username\"\n                rules={[\n                  {\n                    required: true,\n                    message: \"请输入用户名！\",\n                  },\n                ]}\n              >\n                <Input\n                  prefix={<UserOutlined className=\"site-form-item-icon\" />}\n                  placeholder=\"用户名\"\n                />\n              </Form.Item>\n              <Form.Item\n                name=\"password\"\n                rules={[\n                  {\n                    required: true,\n                    message: \"请输入密码！\",\n                  },\n                ]}\n              >\n                <Input.Password\n                  prefix={<LockOutlined className=\"site-form-item-icon\" />}\n                  placeholder=\"密码\"\n                />\n              </Form.Item>\n              <Form.Item\n                name=\"password2\"\n                rules={[\n                  {\n                    required: true,\n                    message: \"请再次输入密码！\",\n                  },\n                ]}\n              >\n                <Input.Password\n                  prefix={<LockOutlined className=\"site-form-item-icon\" />}\n                  placeholder=\"密码\"\n                />\n              </Form.Item>\n              <Form.Item>\n                <Space>\n                  <Button type=\"primary\" htmlType=\"submit\">\n                    注册\n                  </Button>\n                  <Button htmlType=\"button\" onClick={this.toLogin}>\n                    已有账号\n                  </Button>\n                </Space>\n              </Form.Item>\n            </Form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect((state) => ({ user: state.user }), { register })(\n  Register\n);\n","import React, { Component } from \"react\";\nimport { Layout, Menu } from \"antd\";\nimport PropTypes from \"prop-types\";\nimport { withRouter } from \"react-router-dom\";\nimport {\n  TeamOutlined,\n  ProjectOutlined,\n  AreaChartOutlined,\n  CarryOutOutlined,\n  SolutionOutlined,\n  ProfileOutlined,\n  SnippetsOutlined,\n} from \"@ant-design/icons\";\n\nimport styles from \"./sider.module.less\";\n\nclass Sider extends Component {\n  static propTypes = {\n    collapsed: PropTypes.bool.isRequired,\n  };\n\n  menuList = [\n    // 包含所有导航组件的相关信息数据\n    {\n      path: \"/project/profile\",\n      title: \"项目状态\",\n      icon: <ProfileOutlined />,\n    },\n    {\n      path: \"/project/member\",\n      title: \"成员管理\",\n      icon: <TeamOutlined />,\n    },\n    {\n      path: \"/project/story\",\n      title: \"需求分析\",\n      icon: <SolutionOutlined />,\n    },\n    {\n      path: \"/project/sprint\",\n      title: \"周期设置\",\n      icon: <CarryOutOutlined />,\n    },\n    {\n      path: \"/project/board\",\n      title: \"任务看板\",\n      icon: <ProjectOutlined />,\n    },\n    {\n      path: \"/project/meeting\",\n      title: \"会议纪要\",\n      icon: <SnippetsOutlined />,\n    },\n    {\n      path: \"\",\n      title: \"燃尽图\",\n      icon: <AreaChartOutlined />,\n    },\n  ];\n\n  render() {\n    const visiable = this.props.visiable;\n    const currentPath = this.props.history.location.pathname;\n    const selectedMenu = this.menuList\n      .findIndex((menu) => menu.path === currentPath)\n      .toString();\n    // if (!visiable) return null;\n    return (\n      <Layout.Sider\n        trigger={null}\n        collapsible\n        collapsed={this.props.collapsed}\n        className={styles.sider}\n        style={{\n          display: visiable ? \"\" : \"none\",\n        }}\n      >\n        <div className={styles.logo}>PMS</div>\n        <Menu theme=\"dark\" mode=\"inline\" selectedKeys={[selectedMenu]}>\n          {this.menuList.map((menu, index) => (\n            <Menu.Item\n              key={index}\n              icon={menu.icon}\n              onClick={() => {\n                if (menu.path) this.props.history.replace(menu.path);\n              }}\n            >\n              {menu.title}\n            </Menu.Item>\n          ))}\n        </Menu>\n      </Layout.Sider>\n    );\n  }\n}\n\n//向外暴露withRouter()包装产生的组件，在非路由组件中使用路由库的API\n//内部会向组件中传入一些路由组件特有的属性：history/location/math\nexport default withRouter(Sider);\n","import React from \"react\";\nimport { Layout, Avatar } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport {\n  MenuUnfoldOutlined,\n  MenuFoldOutlined,\n  LogoutOutlined,\n  UserOutlined,\n} from \"@ant-design/icons\";\n\nimport styles from \"./header.module.less\";\n\nconst Header = (props) => {\n  return (\n    <Layout.Header className={styles.header}>\n      {React.createElement(\n        props.collapsed ? MenuUnfoldOutlined : MenuFoldOutlined,\n        {\n          className: styles.trigger,\n          onClick: props.toggle,\n        }\n      )}\n      <div className={styles.title}>\n        <Link to=\"/\">{props.projectName}</Link>\n      </div>\n      <div>\n        <Avatar\n          style={{ backgroundColor: \"#00a2ae\", marginRight: 8 }}\n          icon={<UserOutlined />}\n        />\n        {props.username}\n      </div>\n      <LogoutOutlined className={styles.logout} onClick={props.logout} />\n    </Layout.Header>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport { List, Popconfirm } from 'antd';\nimport { EditOutlined } from '@ant-design/icons';\n\nexport default function ProjectList(props) {\n  const data = props.data;\n  return (\n    <List\n      size=\"large\"\n      dataSource={data}\n      renderItem={(item) => (\n        <List.Item\n          actions={[\n            <a key=\"edit\">\n              <EditOutlined />\n            </a>,\n          ]}\n        >\n          <List.Item.Meta\n            title={\n              <Popconfirm\n                placement=\"right\"\n                title=\"选择并切换至该项目？\"\n                onConfirm={() => props.onConfirm(item)}\n                okText=\"确认\"\n                cancelText=\"取消\"\n              >\n                <a>{item.projectName}</a>\n              </Popconfirm>\n            }\n            description={item.description}\n          />\n        </List.Item>\n      )}\n    />\n  );\n}\n","import React from 'react';\nimport { Form, Input, DatePicker } from 'antd';\n\nconst { RangePicker } = DatePicker;\n\nexport default function ProjectForm(props) {\n  return (\n    <Form\n      ref={props.formRef}\n      labelCol={{\n        span: 5,\n      }}\n      wrapperCol={{\n        span: 16,\n      }}\n    >\n      <Form.Item\n        name=\"projectName\"\n        label=\"项目名称\"\n        rules={[\n          {\n            required: true,\n            message: '请输入项目名称！',\n          },\n        ]}\n      >\n        <Input placeholder=\"请输入\" />\n      </Form.Item>\n      <Form.Item\n        name=\"rangeDate\"\n        label=\"项目时间\"\n        rules={[\n          {\n            required: true,\n            message: '请选择选择项目时间！',\n          },\n        ]}\n      >\n        <RangePicker\n          style={{\n            width: '100%',\n          }}\n        />\n      </Form.Item>\n      <Form.Item\n        name=\"description\"\n        label=\"项目简介\"\n        rules={[\n          {\n            required: true,\n            message: '请输入至少五个字符的项目简介！',\n            min: 5,\n          },\n        ]}\n      >\n        <Input.TextArea rows={4} placeholder=\"请输入至少五个字符\" />\n      </Form.Item>\n    </Form>\n  );\n}\n","import * as types from './action-types';\nimport * as api from '../../api';\n\n//项目\n// const receiveProjectList = (projectList) => ({\n//   type: types.RECEIVE_PROJECT_LIST,\n//   data: projectList,\n// });\n\n// const receiveNewProject = (project) => ({\n//   type: types.RECEIVE_NEW_PROJECT,\n//   data: project,\n// });\n\nconst errorMsg = (msg) => ({ type: types.ERROR_MSG, data: msg });\n\nexport const switchProject = (project) => ({\n  type: types.SWITCH_PROJECT,\n  data: project,\n});\n\nexport const resetProject = (msg) => ({ type: types.RESET_PROJECT, data: msg });\n\n// export const createProject = (project) => {\n//   return async (dispatch) => {\n//     const response = await api.reqCreateProject(project);\n//     const result = response.data;\n//     if (result.code === 0) {\n//       dispatch(receiveNewProject(result.data));\n//     } else {\n//       dispatch(errorMsg(result.msg));\n//     }\n//   };\n// };\n\nexport const getProject = () => {\n  return async (dispatch) => {\n    const response = await api.reqProject();\n    const result = response.data;\n    if (result.code === 0) {\n      dispatch(switchProject(result.data));\n    } else {\n      dispatch(resetProject(result.msg));\n    }\n  };\n};\n\n// export const getProjectList = () => {\n//   return async (dispatch) => {\n//     const response = await api.reqProjectList();\n//     const result = response.data;\n//     if (result.code === 0) {\n//       dispatch(receiveProjectList(result.data));\n//     }\n//   };\n// };\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Cookies from 'js-cookie';\nimport { Card, Modal } from 'antd';\nimport { PlusCircleFilled } from '@ant-design/icons';\n\nimport ProjectList from '../../components/project/list';\nimport ProjectForm from '../../components/project/form';\nimport {\n  // createProject,\n  // getProjectList,\n  switchProject,\n} from '../../redux/project/actions';\nimport { reqProjectList, reqCreateProject } from '../../api/index';\n\nclass MyProjects extends Component {\n  state = {\n    visible: false,\n    projectList: [],\n  };\n\n  showModal = () => {\n    this.setState({\n      visible: true,\n    });\n  };\n\n  handleConfirm = (item) => {\n    this.props.switchProject(item);\n    //todo:重置store.state中的sprints\n    Cookies.set('projectId', item._id);\n    this.props.history.push('/project/profile');\n  };\n\n  handleOk = (e) => {\n    this.form\n      .validateFields()\n      .then((value) => {\n        const rangeDate = value['rangeDate'];\n        value.startDate = rangeDate[0].format('YYYY-MM-DD');\n        value.endDate = rangeDate[1].format('YYYY-MM-DD');\n        // this.props.createProject(value);\n        reqCreateProject(value).then((res) => {\n          const result = res.data;\n          if (result.code === 0) {\n            this.setState({\n              projectList: [result.data, ...this.state.projectList],\n              visible: false,\n            });\n            this.form.resetFields();\n          }\n        });\n      })\n      .catch((info) => {\n        console.log('验证失败：', info);\n      });\n  };\n\n  handleCancel = (e) => {\n    this.setState({\n      visible: false,\n    });\n  };\n\n  componentDidMount() {\n    reqProjectList().then((res) => {\n      const result = res.data;\n      // console.log(result);\n      if (result.code === 0) {\n        this.setState({\n          projectList: result.data,\n        });\n      }\n    });\n    // this.props.getProjectList();\n  }\n\n  render() {\n    // const data = this.props.projectList;\n    const data = this.state.projectList;\n    return (\n      <div>\n        <Card\n          title=\"我的项目\"\n          extra={\n            <a onClick={this.showModal}>\n              <PlusCircleFilled style={{ fontSize: '32px' }} />\n            </a>\n          }\n        >\n          {/* <Button\n            type=\"dashed\"\n            style={{\n              width: \"100%\",\n              marginBottom: 8,\n            }}\n            onClick={this.showModal}\n          >\n            <PlusOutlined />\n            创建项目\n          </Button> */}\n          <ProjectList data={data} onConfirm={this.handleConfirm}></ProjectList>\n        </Card>\n\n        <Modal\n          title=\"创建项目\"\n          width={640}\n          visible={this.state.visible}\n          onOk={this.handleOk}\n          onCancel={this.handleCancel}\n          okText=\"确定\"\n          cancelText=\"取消\"\n        >\n          <ProjectForm formRef={(el) => (this.form = el)}></ProjectForm>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  // projectList: state.projectList,\n  project: state.project,\n});\n\nconst mapDispatchToProps = { switchProject };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MyProjects);\n","import React, { Component } from 'react';\n\nexport default class Profile extends Component {\n  render() {\n    return (\n      <>\n        <div>\n          当前处于第2个周期(2020-9-13~2020-10-10)，该周期共有任务30个，其中3个任务为上个周期遗留。\n        </div>\n        <div>目前未开始10个，进行中10个，已结束10个。</div>\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './task-progress.module.less';\n\nfunction TaskProgress(props) {\n  function genChildren(num, className) {\n    let children = [];\n    for (let index = 0; index < num; index++) {\n      const element = (\n        <div key={index} className={`${styles.block} ${className}`}></div>\n      );\n      children.push(element);\n    }\n    return children;\n  }\n  return (\n    <div className={styles.container}>\n      {genChildren(props.todo, styles.todo)}\n      {genChildren(props.doing, styles.doing)}\n      {genChildren(props.done, styles.done)}\n    </div>\n  );\n}\n\nTaskProgress.propTypes = {\n  todo: PropTypes.number.isRequired,\n  doing: PropTypes.number.isRequired,\n  done: PropTypes.number.isRequired,\n};\n\nexport default TaskProgress;\n","import React, { Component } from 'react';\n\nimport TaskProgress from '../../../components/task-progress/task-progress';\n\nexport default class Meeting extends Component {\n  render() {\n    return <TaskProgress todo={3} doing={5} done={4} />;\n  }\n}\n","import React, { Component } from \"react\";\nimport { Draggable } from \"react-beautiful-dnd\";\nimport { Card, Avatar, Tooltip } from \"antd\";\nimport { UserOutlined } from \"@ant-design/icons\";\nimport styles from \"./task.module.less\";\n\n// const getItemStyle = (isDragging, draggableStyle) => ({\n//   // change background colour if dragging\n//   background: isDragging ? 'lightgreen' : '',\n//   // styles we need to apply on draggables\n//   ...draggableStyle,\n// });\n\nexport default class Task extends Component {\n  render() {\n    return (\n      <Draggable draggableId={this.props.task._id} index={this.props.index}>\n        {(provided, snapshot) => (\n          <div\n            className={styles.container}\n            ref={provided.innerRef}\n            {...provided.draggableProps}\n            {...provided.dragHandleProps}\n            // style={getItemStyle(\n            //   snapshot.isDragging,\n            //   provided.draggableProps.style\n            // )}\n          >\n            <Card hoverable={true}>\n              <p>{this.props.task.content}</p>\n              <div style={{ textAlign: \"right\" }}>\n                <Avatar.Group>\n                  {this.props.task.users.map((user) => (\n                    <Tooltip\n                      key={user._id}\n                      title={user.username}\n                      placement=\"top\"\n                    >\n                      <Avatar\n                        style={{ backgroundColor: user.avatar }}\n                        icon={<UserOutlined />}\n                      />\n                    </Tooltip>\n                  ))}\n                </Avatar.Group>\n              </div>\n            </Card>\n          </div>\n        )}\n      </Draggable>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Droppable } from \"react-beautiful-dnd\";\nimport Task from \"./task\";\n\nimport styles from \"./column.module.less\";\n\n// const getListStyle = (isDraggingOver) => ({\n//   background: isDraggingOver ? 'lightblue' : '',\n// });\n\nexport default class Column extends Component {\n  render() {\n    let backgroundColor;\n    switch (this.props.id) {\n      case \"todo\":\n        backgroundColor = \"#4a9ff9\";\n        break;\n      case \"doing\":\n        backgroundColor = \"#f9944a\";\n        break;\n      case \"done\":\n        backgroundColor = \"#2ac06d\";\n        break;\n      default:\n        break;\n    }\n    return (\n      <div className={styles.container}>\n        <h4 className={styles.title} style={{ backgroundColor }}>\n          {this.props.title}\n        </h4>\n        <Droppable droppableId={this.props.id}>\n          {(provided) => (\n            <div\n              className={styles.taskList}\n              ref={provided.innerRef}\n              {...provided.droppableProps}\n              // style={getListStyle(snapshot.isDraggingOver)}\n            >\n              {this.props.tasks.map((task, index) => (\n                <Task key={task._id} task={task} index={index} />\n              ))}\n              {provided.placeholder}\n            </div>\n          )}\n        </Droppable>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { DragDropContext } from \"react-beautiful-dnd\";\nimport { Card, Table, Avatar, Tooltip } from \"antd\";\nimport {\n  UnorderedListOutlined,\n  ProjectOutlined,\n  UserOutlined,\n} from \"@ant-design/icons\";\nimport Column from \"../../../components/board/column\";\nimport { reqTaskList } from \"../../../api/index\";\n\nexport default class Board extends Component {\n  state = {\n    isBoardView: true,\n    originalTasks: [],\n    tasks: {\n      todo: [],\n      doing: [],\n      done: [],\n    },\n  };\n\n  componentDidMount() {\n    reqTaskList().then((res) => {\n      const result = res.data;\n      if (result.code === 0) {\n        const originalTasks = result.data;\n        const tasks = this.state.tasks;\n        originalTasks.forEach((task) => {\n          tasks[task.status].push(task);\n        });\n        // console.log(tasks);\n        this.setState({\n          tasks,\n          originalTasks,\n        });\n      }\n    });\n  }\n\n  toggleView = () => {\n    const isBoardView = !this.state.isBoardView;\n    this.setState({ isBoardView });\n  };\n\n  /*方案1:如果需要将所有任务tasks作为store的一个属性，这里拖拽完后应该直接更新store.tasks的status，让页面自动重新渲染，但是会没有排序功能。\n  方案2:只是在前端更新组件state的tasks，拖拽后直接调用接口更新被拖拽任务的status,同时可以实现排序功能（实际没什么意义，刷新后顺序会变）。\n  两个方案不能同时使用，否则要么会导致store.tasks的状态更后端实际状态不一致，要么导致多次重新渲染。 */\n\n  //方案2\n  onDragEnd = (result) => {\n    const { destination, source, draggableId } = result;\n\n    if (!destination) {\n      return;\n    }\n\n    if (\n      destination.droppableId === source.droppableId &&\n      destination.index === source.index\n    ) {\n      return;\n    }\n\n    const start = source.droppableId;\n    const finish = destination.droppableId;\n\n    //查询被拖拽的task\n    const draggedTask = this.state.tasks[start].find(\n      (task) => task._id === draggableId\n    );\n    const draggedTaskInOriginalTasks = this.state.originalTasks.find(\n      (task) => task._id === draggableId\n    );\n\n    //todo：更新draggedTask的状态：更新后端数据库，如果成功再更新state\n    draggedTask.status = finish;\n    draggedTaskInOriginalTasks.status = finish;\n\n    const { tasks } = this.state;\n    const startTasks = tasks[start];\n    const finishTasks = tasks[finish];\n\n    startTasks.splice(source.index, 1);\n    finishTasks.splice(destination.index, 0, draggedTask);\n\n    this.setState({\n      tasks,\n    });\n  };\n\n  render() {\n    const { originalTasks, tasks, isBoardView } = this.state;\n\n    const boardView = (\n      <DragDropContext onDragEnd={this.onDragEnd}>\n        <div style={{ display: \"flex\" }}>\n          <Column title=\"未开始\" id=\"todo\" tasks={tasks.todo} />\n          <Column title=\"进行中\" id=\"doing\" tasks={tasks.doing} />\n          <Column title=\"已完成\" id=\"done\" tasks={tasks.done} />\n        </div>\n      </DragDropContext>\n    );\n\n    const listView = (\n      <Table\n        dataSource={originalTasks}\n        pagination={false}\n        showHeader={false}\n        rowKey=\"_id\"\n      >\n        <Column title=\"任务内容\" dataIndex=\"content\" key=\"content\" />\n        <Column\n          title=\"参与者\"\n          dataIndex=\"users\"\n          key=\"users\"\n          render={(users) => (\n            <Avatar.Group>\n              {users.map((user) => (\n                <Tooltip key={user._id} title={user.username} placement=\"top\">\n                  <Avatar\n                    style={{ backgroundColor: user.avatar }}\n                    icon={<UserOutlined />}\n                  />\n                </Tooltip>\n              ))}\n            </Avatar.Group>\n          )}\n        />\n        <Column title=\"状态\" dataIndex=\"status\" key=\"status\" />\n      </Table>\n    );\n\n    return (\n      <Card\n        title=\"周期1\"\n        extra={\n          <a onClick={this.toggleView}>\n            {isBoardView ? (\n              <UnorderedListOutlined style={{ fontSize: \"20px\" }} />\n            ) : (\n              <ProjectOutlined style={{ fontSize: \"20px\" }} />\n            )}\n          </a>\n        }\n      >\n        {isBoardView ? boardView : listView}\n      </Card>\n    );\n  }\n}\n","import React from 'react';\nimport { Form, Select } from 'antd';\n\nconst { Option } = Select;\n\nexport default function MemberForm(props) {\n  return (\n    <Form\n      ref={props.formRef}\n      labelCol={{\n        span: 5,\n      }}\n      wrapperCol={{\n        span: 16,\n      }}\n    >\n      <Form.Item\n        name=\"_id\"\n        label=\"项目成员\"\n        rules={[\n          {\n            required: true,\n            message: '请选择项目成员！',\n          },\n        ]}\n      >\n        <Select\n          showSearch\n          placeholder=\"选择成员\"\n          optionFilterProp=\"children\"\n          filterOption={(input, option) =>\n            option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n          }\n        >\n          {props.data.map((user, index) => (\n            <Option key={index} value={user._id}>\n              {user.username}\n            </Option>\n          ))}\n        </Select>\n      </Form.Item>\n      <Form.Item\n        name=\"roles\"\n        label=\"成员角色\"\n        rules={[\n          {\n            required: true,\n            message: '请选择成员角色！',\n          },\n        ]}\n      >\n        <Select mode=\"multiple\" allowClear placeholder=\"选择角色\">\n          {props.roles.map((role, index) => (\n            <Option key={index} value={role.name}>\n              {role.name}\n            </Option>\n          ))}\n        </Select>\n      </Form.Item>\n    </Form>\n  );\n}\n","import React, { Component } from 'react';\nimport {\n  Avatar,\n  Card,\n  Tag,\n  Space,\n  Table,\n  Popconfirm,\n  Modal,\n  Button,\n} from 'antd';\nimport {\n  UserOutlined,\n  DeleteOutlined,\n  PlusCircleFilled,\n} from '@ant-design/icons';\n\nimport MemberForm from '../../../components/member/form';\nimport { reqMemberList, reqUserList } from '../../../api/index';\n\nconst roleOptions = [\n  {\n    color: '#f56a00',\n    name: '项目经理',\n  },\n  {\n    color: '#7265e6',\n    name: '前端开发',\n  },\n  {\n    color: '#00a2ae',\n    name: '后端开发',\n  },\n  {\n    color: '#ffbf00',\n    name: 'UI设计',\n  },\n];\n\nexport default class Member extends Component {\n  state = {\n    users: [],\n    members: [],\n    visible: false,\n  };\n  columns = [\n    {\n      title: '成员',\n      dataIndex: 'username',\n      render: (text, record) => (\n        <Space>\n          <Avatar\n            style={{ backgroundColor: record.avatar }}\n            icon={<UserOutlined />}\n          ></Avatar>\n          {/* <div> */}\n          <a>{text}</a>\n          {/* <div style={{ color: \"rgba(0,0,0,.45)\" }}>{record.email}</div> */}\n          {/* </div> */}\n        </Space>\n      ),\n    },\n    {\n      title: '邮箱',\n      dataIndex: 'email',\n      render: (text) => <div style={{ color: 'rgba(0,0,0,.45)' }}>{text}</div>,\n    },\n    {\n      title: '角色',\n      dataIndex: 'roles',\n      render: (roles) =>\n        roles.map((role, index) => (\n          <Tag key={index} color={role.color}>\n            {role.name}\n          </Tag>\n        )),\n    },\n    {\n      title: '操作',\n      dataIndex: '_id',\n      key: 'action',\n      render: (_id) => (\n        <Popconfirm\n          placement=\"left\"\n          title=\"确认删除该成员？\"\n          onConfirm={() => this.handleDel(_id)}\n          okText=\"确认\"\n          cancelText=\"取消\"\n        >\n          <a key=\"delete\">\n            <DeleteOutlined />\n          </a>\n        </Popconfirm>\n      ),\n    },\n  ];\n\n  handleDel = (id) => {\n    const members = this.state.members.filter((member) => member._id !== id);\n    this.setState({ members });\n  };\n\n  showModal = () => {\n    this.setState({\n      visible: true,\n    });\n  };\n\n  handleOk = (e) => {\n    this.form\n      .validateFields()\n      .then((value) => {\n        const user = this.state.users.find((user) => user._id === value._id);\n        const users = this.state.users.filter((user) => user._id !== value._id);\n        const roles = roleOptions.filter((role) => {\n          return value.roles.findIndex((value) => role.name === value) !== -1;\n        });\n        const newMember = {\n          ...user,\n          roles,\n        };\n        const members = [newMember, ...this.state.members];\n        this.setState({\n          members,\n          users,\n          visible: false,\n        });\n        this.form.resetFields();\n      })\n      .catch((info) => {\n        console.log('验证失败：', info);\n      });\n  };\n\n  handleCancel = (e) => {\n    this.setState({\n      visible: false,\n    });\n  };\n\n  componentDidMount() {\n    reqMemberList().then((res) => {\n      const result = res.data;\n      if (result.code === 0) {\n        const members = result.data;\n        this.setState({\n          members,\n        });\n      }\n    });\n\n    //获取所有用户列表（添加用户时用）\n    reqUserList().then((res) => {\n      const result = res.data;\n      if (result.code === 0) {\n        const users = result.data;\n        this.setState({\n          users,\n        });\n      }\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <Card\n          title=\"项目成员\"\n          extra={\n            <a onClick={this.showModal}>\n              <PlusCircleFilled style={{ fontSize: '32px' }} />\n            </a>\n          }\n        >\n          {/* <Button\n            type=\"dashed\"\n            style={{\n              width: '100%',\n              marginBottom: 8,\n            }}\n            onClick={this.showModal}\n          >\n            <PlusOutlined />\n            添加成员\n          </Button> */}\n          <Table\n            showHeader={false}\n            pagination={false}\n            rowKey=\"_id\"\n            columns={this.columns}\n            dataSource={this.state.members}\n          />\n        </Card>\n\n        <Modal\n          title=\"添加成员\"\n          width={640}\n          visible={this.state.visible}\n          onOk={this.handleOk}\n          onCancel={this.handleCancel}\n          okText=\"确定\"\n          cancelText=\"取消\"\n        >\n          <MemberForm\n            formRef={(el) => (this.form = el)}\n            data={this.state.users}\n            roles={roleOptions}\n          ></MemberForm>\n        </Modal>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Card, Table, Form, DatePicker, Modal, Progress, Tag } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport { ProjectOutlined, PlusCircleFilled } from \"@ant-design/icons\";\n\nimport TaskProgress from \"../../../components/task-progress/task-progress\";\n\nconst { Column } = Table;\n\nconst priority = [\n  {\n    color: \"#2ac06d\",\n    display: \"低\",\n  },\n  {\n    color: \"#f9944a\",\n    display: \"中\",\n  },\n  {\n    color: \"#ff4d4f\",\n    display: \"高\",\n  },\n];\n\nexport default class Story extends Component {\n  state = {\n    visible: false,\n    stories: [\n      {\n        _id: \"1232312313\",\n        role: \"用户\",\n        activity: \"选择首页弹出的标签\",\n        date: \"2010-1-1\",\n        priority: 2,\n        businessValue: \"分析用户画像，智能推荐分析用户画像，智能推荐\",\n        tasks: [1, 2, 3, 4, 5, 6, 7, 8, 9],\n      },\n    ],\n  };\n  showModal = () => {\n    this.setState({\n      visible: true,\n    });\n  };\n\n  handleCancel = (e) => {\n    this.setState({\n      visible: false,\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <Card\n          title=\"项目需求\"\n          extra={\n            <a onClick={this.showModal}>\n              <PlusCircleFilled style={{ fontSize: \"32px\" }} />\n            </a>\n          }\n        >\n          <Table\n            dataSource={this.state.stories}\n            pagination={false}\n            rowKey=\"_id\"\n          >\n            <Column\n              title=\"优先级\"\n              dataIndex=\"priority\"\n              key=\"priority\"\n              render={(value) => {\n                const p = priority[value];\n                return (\n                  <Tag\n                    style={{ width: \"40px\", textAlign: \"center\" }}\n                    color={p.color}\n                  >\n                    {p.display}\n                  </Tag>\n                );\n              }}\n            />\n            <Column title=\"提出日期\" dataIndex=\"date\" key=\"date\" />\n            <Column title=\"角色\" dataIndex=\"role\" key=\"role\" />\n            <Column title=\"行为\" dataIndex=\"activity\" key=\"activity\" />\n            <Column\n              title=\"目的\"\n              dataIndex=\"businessValue\"\n              key=\"businessValue\"\n              progress\n            />\n\n            <Column\n              title=\"任务进度\"\n              key=\"progress\"\n              render={() => <TaskProgress todo={3} doing={5} done={4} />}\n            />\n            <Column\n              title=\"查看详情\"\n              key=\"tasks\"\n              render={() => (\n                <Link to=\"/project/board\">\n                  <ProjectOutlined />\n                </Link>\n              )}\n            />\n          </Table>\n        </Card>\n\n        <Modal\n          title=\"新增需求\"\n          width={480}\n          visible={this.state.visible}\n          onOk={this.handleOk}\n          onCancel={this.handleCancel}\n          okText=\"确定\"\n          cancelText=\"取消\"\n        ></Modal>\n      </div>\n    );\n  }\n}\n","import * as types from './action-types';\nimport * as api from '../../api';\n\nconst receiveSprints = (sprints) => ({\n  type: types.RECEIVE_SPRINTS,\n  data: sprints,\n});\n\nconst createSprints = (sprint) => ({\n  type: types.CREATE_SPRINT,\n  data: sprint,\n});\n\nexport const createSprint = (sprint) => {\n  return async (dispatch) => {\n    const response = await api.reqCreateSprint(sprint);\n    const result = response.data;\n    if (result.code === 0) {\n      dispatch(createSprints(result.data));\n    }\n  };\n};\n\nexport const getSprints = () => {\n  return async (dispatch) => {\n    const response = await api.reqSprintList();\n    const result = response.data;\n    if (result.code === 0) {\n      dispatch(receiveSprints(result.data));\n    }\n  };\n};\n","import React, { Component } from 'react';\nimport { Card, Table, Form, DatePicker, Modal } from 'antd';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\nimport { ProjectOutlined, PlusCircleFilled } from '@ant-design/icons';\n\nimport { createSprint, getSprints } from '../../../redux/sprints/actions';\n\nimport styles from './sprint.module.less';\n\nconst { RangePicker } = DatePicker;\nconst { Column } = Table;\n\nclass Sprint extends Component {\n  state = {\n    visible: false,\n  };\n\n  showModal = () => {\n    this.setState({\n      visible: true,\n    });\n  };\n\n  handleCancel = (e) => {\n    this.setState({\n      visible: false,\n    });\n  };\n\n  handleOk = (e) => {\n    this.form\n      .validateFields()\n      .then((value) => {\n        const rangeDate = value['rangeDate'];\n        const startDate = rangeDate[0].format('YYYY-MM-DD');\n        const endDate = rangeDate[1].format('YYYY-MM-DD');\n        this.props.createSprint({ startDate, endDate });\n        this.setState({\n          visible: false,\n        });\n        this.form.resetFields();\n      })\n      .catch((info) => {\n        console.log('验证失败：', info);\n      });\n  };\n\n  componentDidMount() {\n    this.props.getSprints();\n  }\n\n  render() {\n    const { startDate, endDate } = this.props.project;\n    const sprints = this.props.sprints;\n    const length = sprints.length;\n\n    let newStartDate = startDate;\n\n    if (length > 0) {\n      const lastEndDate = sprints[length - 1].endDate;\n      newStartDate = moment(lastEndDate).add(1, 'days').format('YYYY-MM-DD');\n    }\n\n    return (\n      <div>\n        <Card\n          title=\"项目周期\"\n          extra={\n            <a onClick={this.showModal}>\n              <PlusCircleFilled style={{ fontSize: '32px' }} />\n            </a>\n          }\n        >\n          <Table\n            dataSource={sprints}\n            pagination={false}\n            showHeader={false}\n            rowKey=\"_id\"\n            rowClassName={(record) => {\n              return moment().isBetween(\n                record.startDate,\n                record.endDate,\n                null,\n                '[]'\n              )\n                ? styles.curSprint\n                : null;\n            }}\n          >\n            <Column title=\"开始时间\" dataIndex=\"startDate\" key=\"startDate\" />\n            <Column title=\"结束时间\" dataIndex=\"endDate\" key=\"endDate\" />\n            <Column title=\"完成情况\" key=\"status\" render={() => '8/15'} />\n            <Column\n              title=\"查看任务\"\n              key=\"tasks\"\n              render={() => (\n                <Link to=\"/project/board\">\n                  <ProjectOutlined />\n                </Link>\n              )}\n            />\n          </Table>\n        </Card>\n\n        <Modal\n          title=\"新增周期\"\n          width={480}\n          visible={this.state.visible}\n          onOk={this.handleOk}\n          onCancel={this.handleCancel}\n          okText=\"确定\"\n          cancelText=\"取消\"\n        >\n          <Form ref={(el) => (this.form = el)}>\n            <Form.Item\n              name=\"rangeDate\"\n              rules={[\n                {\n                  required: true,\n                  message: '请选择周期时间！',\n                },\n              ]}\n            >\n              <RangePicker\n                disabledDate={(currentDate) =>\n                  !currentDate.isBetween(newStartDate, endDate, 'day', '[]')\n                }\n                defaultPickerValue={[moment(newStartDate)]}\n                style={{\n                  width: '100%',\n                }}\n              />\n            </Form.Item>\n          </Form>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  // projectList: state.projectList,\n  project: state.project,\n  sprints: state.sprints,\n});\n\nconst mapDispatchToProps = { createSprint, getSprints };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Sprint);\n","import React from 'react';\nimport { Result } from 'antd';\n\nexport default () => (\n  <Result\n    status=\"404\"\n    title=\"404\"\n    style={{\n      background: 'none',\n    }}\n    subTitle=\"页面不存在\"\n  />\n);\n","import React, { Component } from \"react\";\nimport Cookies from \"js-cookie\";\nimport { Redirect, Switch, Route } from \"react-router-dom\";\nimport { Layout, Modal } from \"antd\";\nimport { ExclamationCircleOutlined } from \"@ant-design/icons\";\nimport { connect } from \"react-redux\";\n\nimport Sider from \"../../components/sider/sider\";\nimport Header from \"../../components/header/header\";\nimport MyProjects from \"../my-projects/my-projects\";\nimport Profile from \"../project/profile/profile\";\nimport Meeting from \"../project/meeting/meeting\";\nimport Board from \"../project/board/board\";\nimport Member from \"../project/member/member\";\nimport Story from \"../project/story/story\";\nimport Sprint from \"../project/sprint/sprint\";\nimport NotFound from \"../exception/not-found\";\nimport { resetUser, getUser } from \"../../redux/user/actions\";\nimport { resetProject, getProject } from \"../../redux/project/actions\";\n\nconst { Content } = Layout;\n\nclass Main extends Component {\n  state = {\n    collapsed: false,\n  };\n\n  navList = [\n    {\n      path: \"/\",\n      component: MyProjects,\n      exact: true,\n    },\n    {\n      path: \"/project/profile\",\n      component: Profile,\n    },\n    {\n      path: \"/project/member\",\n      component: Member,\n    },\n    {\n      path: \"/project/meeting\",\n      component: Meeting,\n    },\n    {\n      path: \"/project/story\",\n      component: Story,\n    },\n    {\n      path: \"/project/board\",\n      component: Board,\n    },\n    {\n      path: \"/project/sprint\",\n      component: Sprint,\n    },\n    {\n      component: NotFound,\n    },\n  ];\n\n  toggle = () => {\n    this.setState({\n      collapsed: !this.state.collapsed,\n    });\n  };\n\n  logout = () => {\n    let that = this;\n    Modal.confirm({\n      title: \"确认退出登录吗？\",\n      icon: <ExclamationCircleOutlined />,\n      cancelText: \"取消\",\n      okText: \"确定\",\n      onOk() {\n        Cookies.remove(\"projectId\");\n        Cookies.remove(\"userId\");\n        that.props.resetUser();\n        that.props.resetProject();\n      },\n    });\n  };\n\n  componentDidMount() {\n    const userId = Cookies.get(\"userId\");\n    if (userId && !this.props.user._id) {\n      this.props.getUser();\n    }\n\n    const projectId = Cookies.get(\"projectId\");\n    if (projectId && !this.props.project._id) {\n      this.props.getProject();\n    }\n  }\n\n  render() {\n    const userId = Cookies.get(\"userId\");\n    const projectId = Cookies.get(\"projectId\");\n    const visiable =\n      this.props.location.pathname === \"/\" && !projectId ? false : true;\n    if (!userId) {\n      return <Redirect to=\"/login\" />;\n    }\n    if (visiable && !projectId) {\n      return <Redirect to=\"/\" />;\n    }\n\n    // const marginLeft = visiable ? (this.state.collapsed ? 80 : 200) : 0;\n\n    return (\n      <Layout\n        style={{ position: \"fixed\", top: 0, left: 0, right: 0, bottom: 0 }}\n      >\n        <Sider visiable={visiable} collapsed={this.state.collapsed} />\n        <Layout style={{ minHeight: \"100vh\" }}>\n          <Header\n            projectName={this.props.project.projectName}\n            username={this.props.user.username}\n            collapsed={this.state.collapsed}\n            toggle={visiable ? this.toggle : null}\n            logout={this.logout}\n          />\n          <Content style={{ padding: \"24px\", minHeight: \"auto\" }}>\n            <Switch>\n              {this.navList.map((nav, index) => (\n                <Route key={index} {...nav} />\n              ))}\n            </Switch>\n          </Content>\n        </Layout>\n      </Layout>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  user: state.user,\n  project: state.project,\n});\n\nconst mapDispatchToProps = { resetUser, resetProject, getProject, getUser };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Main);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { HashRouter, Switch, Route } from \"react-router-dom\";\nimport { ConfigProvider } from \"antd\";\nimport locale from \"antd/es/locale/zh_CN\";\n\nimport store from \"./redux/store\";\nimport Login from \"./containers/login/login\";\nimport Register from \"./containers/register/register\";\nimport Main from \"./containers/main/main\";\n\nimport \"moment/locale/zh-cn\";\nimport \"./assets/less/index.less\";\n\nReactDOM.render(\n  <ConfigProvider locale={locale}>\n    <Provider store={store}>\n      <HashRouter>\n        <Switch>\n          <Route path=\"/login\" component={Login} />\n          <Route path=\"/register\" component={Register} />\n          <Route component={Main} />\n        </Switch>\n      </HashRouter>\n    </Provider>\n  </ConfigProvider>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"_2RVmFXkm3NpCTVXrhpAky_\",\"content\":\"_2Htpzx3R8oKPu3PkWf4WoK\",\"main\":\"_1f5ImrUK28jULxBPy6Vr4Z\"};"],"sourceRoot":""}