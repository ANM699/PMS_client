(this.webpackJsonppms=this.webpackJsonppms||[]).push([[14],{430:function(e,t,n){"use strict";var a=n(0),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},r=n(23),c=function(e,t){return a.createElement(r.a,Object.assign({},e,{ref:t,icon:l}))};c.displayName="PlusCircleOutlined";t.a=a.forwardRef(c)},672:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return A}));var a=n(2),l=n(31),r=n(0),c=n.n(r),o=n(349),i=n(347),s=n(660),u=n(1),m=n.n(u),f=n(6),d=n.n(f),p=n(4),v=n.n(p),b=n(78),E=n.n(b),h=n(39),y=n(109),O=n(62),C=n(82),g=n(54),k=n(59),x=n(57),j=n(135),w=n(13),P=void 0,N=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]])}return n},S=r.forwardRef((function(e,t){var n=r.useState(e.visible),a=d()(n,2),l=a[0],c=a[1];r.useEffect((function(){"visible"in e&&c(e.visible)}),[e.visible]),r.useEffect((function(){"defaultVisible"in e&&c(e.defaultVisible)}),[e.defaultVisible]);var o=function(t,n){"visible"in e||c(t),e.onVisibleChange&&e.onVisibleChange(t,n)},i=function(t){o(!1,t),e.onConfirm&&e.onConfirm.call(P,t)},s=function(t){o(!1,t),e.onCancel&&e.onCancel.call(P,t)},u=r.useContext(x.b).getPrefixCls,f=e.prefixCls,p=e.placement,b=e.children,E=e.overlayClassName,S=N(e,["prefixCls","placement","children","overlayClassName"]),z=u("popover",f),T=u("popconfirm",f),I=v()(T,E),V=r.createElement(g.a,{componentName:"Popconfirm",defaultLocale:k.a.Popconfirm},(function(t){return function(t,n){var a=e.okButtonProps,l=e.cancelButtonProps,c=e.title,o=e.cancelText,u=e.okText,f=e.okType,d=e.icon;return r.createElement("div",{className:"".concat(t,"-inner-content")},r.createElement("div",{className:"".concat(t,"-message")},d,r.createElement("div",{className:"".concat(t,"-message-title")},Object(j.a)(c))),r.createElement("div",{className:"".concat(t,"-buttons")},r.createElement(O.a,m()({onClick:s,size:"small"},l),o||n.cancelText),r.createElement(O.a,m()({onClick:i},Object(C.a)(f),{size:"small"},a),u||n.okText)))}(z,t)}));return r.createElement(y.a,m()({},S,{prefixCls:z,placement:p,onVisibleChange:function(t){e.disabled||o(t)},visible:l,overlay:V,overlayClassName:I,ref:t}),Object(w.a)(b,{onKeyDown:function(e){var t,n;r.isValidElement(b)&&(null===(n=null===b||void 0===b?void 0:(t=b.props).onKeyDown)||void 0===n||n.call(t,e)),function(e){e.keyCode===h.a.ESC&&l&&o(!1,e)}(e)}}))}));S.defaultProps={transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:r.createElement(E.a,null),disabled:!1};var z=S,T=n(667),I=n(666),V=n(350),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},H=n(23),B=function(e,t){return r.createElement(H.a,Object.assign({},e,{ref:t,icon:_}))};B.displayName="DeleteOutlined";var F=r.forwardRef(B),M=n(430),R=n(490),q=n(345),D=n(346),K=R.a.Option;function J(e){var t=e.visible,n=e.onOk,a=e.onCancel,r=e.member,s=e.users,u=e.roles,m=q.a.useForm(),f=Object(l.a)(m,1)[0];return c.a.createElement(D.a,{forceRender:!0,title:r?"\u7f16\u8f91\u6210\u5458":"\u6dfb\u52a0\u6210\u5458",width:640,visible:t,onOk:function(){f.validateFields().then((function(e){n(e),f.resetFields()})).catch((function(e){console.log("\u9a8c\u8bc1\u5931\u8d25\uff1a",e)}))},onCancel:a,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},c.a.createElement(q.a,{form:f,labelCol:{span:5},wrapperCol:{span:16}},c.a.createElement(q.a.Item,{name:"_id",label:"\u9879\u76ee\u6210\u5458",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u9879\u76ee\u6210\u5458\uff01"}]},c.a.createElement(R.a,{showSearch:!0,placeholder:"\u9009\u62e9\u6210\u5458",optionLabelProp:"title",optionFilterProp:"title"},s.map((function(e,t){return c.a.createElement(K,{key:t,value:e._id,title:e.username},c.a.createElement(o.b,null,c.a.createElement(i.a,{style:{backgroundColor:e.avatar},icon:c.a.createElement(V.a,null)}),c.a.createElement("div",null,c.a.createElement("a",null," ",e.username),c.a.createElement("div",{style:{color:"rgba(0,0,0,.45)"}},e.email))))})))),c.a.createElement(q.a.Item,{name:"roles",label:"\u6210\u5458\u89d2\u8272",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6210\u5458\u89d2\u8272\uff01"}]},c.a.createElement(R.a,{mode:"multiple",allowClear:!0,placeholder:"\u9009\u62e9\u89d2\u8272"},u.map((function(e,t){return c.a.createElement(K,{key:t,value:e.name},e.name)}))))))}var L=n(75),U=[{color:"#f56a00",name:"\u9879\u76ee\u7ecf\u7406"},{color:"#7265e6",name:"\u524d\u7aef\u5f00\u53d1"},{color:"#00a2ae",name:"\u540e\u7aef\u5f00\u53d1"},{color:"#ffbf00",name:"UI\u8bbe\u8ba1"}];function A(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],u=t[1],m=Object(r.useState)([]),f=Object(l.a)(m,2),d=f[0],p=f[1],v=Object(r.useState)(!1),b=Object(l.a)(v,2),E=b[0],h=b[1];Object(r.useEffect)((function(){Object(L.i)().then((function(e){var t=e.data;0===t.code&&p(t.data)})),Object(L.q)().then((function(e){var t=e.data;0===t.code&&u(t.data)}))}),[]);var y=[{title:"\u6210\u5458",dataIndex:"username",render:function(e,t){return c.a.createElement(o.b,null,c.a.createElement(i.a,{style:{backgroundColor:t.avatar},icon:c.a.createElement(V.a,null)}),c.a.createElement("a",null,e))}},{title:"\u90ae\u7bb1",dataIndex:"email",render:function(e){return c.a.createElement("span",{style:{color:"rgba(0,0,0,.45)"}},e)}},{title:"\u89d2\u8272",dataIndex:"roles",render:function(e){return e.map((function(e,t){return c.a.createElement(s.a,{key:t,color:e.color},e.name)}))}},{title:"\u64cd\u4f5c",dataIndex:"_id",key:"action",render:function(e){return c.a.createElement(z,{placement:"left",title:"\u786e\u8ba4\u5220\u9664\u8be5\u6210\u5458\uff1f",onConfirm:function(){return function(e){var t=d.filter((function(t){return t._id!==e}));p(t)}(e)},okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},c.a.createElement("a",{key:"delete"},c.a.createElement(F,null)))}}];return c.a.createElement("div",null,c.a.createElement(T.a,{title:"\u9879\u76ee\u6210\u5458",extra:c.a.createElement("a",{onClick:function(){h(!0)}},c.a.createElement(M.a,{style:{fontSize:"24px"}}))},c.a.createElement(I.a,{showHeader:!1,pagination:!1,rowKey:"_id",columns:y,dataSource:d})),c.a.createElement(J,{visible:E,onOk:function(e){var t=n.find((function(t){return t._id===e._id})),n=n.filter((function(t){return t._id!==e._id})),l=U.filter((function(t){return-1!==e.roles.findIndex((function(e){return t.name===e}))})),r=[Object(a.a)(Object(a.a)({},t),{},{roles:l})].concat(r);p(r),u(n),h(!1)},onCancel:function(){h(!1)},member:null,users:n,roles:U}))}}}]);
//# sourceMappingURL=14.2625a585.chunk.js.map